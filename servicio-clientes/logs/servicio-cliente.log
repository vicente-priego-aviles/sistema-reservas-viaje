2025-11-06 19:30:03 [main] INFO  d.j.r.c.ServicioClientesApplication - Starting ServicioClientesApplication using Java 21.0.7 with PID 17630 (/home/vicente/IdeaProjects/sistema-reservas-viaje/servicio-clientes/target/classes started by vicente in /home/vicente/IdeaProjects/sistema-reservas-viaje/servicio-clientes)
2025-11-06 19:30:03 [main] DEBUG d.j.r.c.ServicioClientesApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-06 19:30:03 [main] INFO  d.j.r.c.ServicioClientesApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 19:30:03 [main] WARN  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Legacy property 'camunda.client.zeebe.grpc-address' found, setting to 'camunda.client.grpc-address'. Please update your setup to use the latest property
2025-11-06 19:30:03 [main] WARN  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Legacy property 'camunda.client.zeebe.rest-address' found, setting to 'camunda.client.rest-address'. Please update your setup to use the latest property
2025-11-06 19:30:03 [main] INFO  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Implicit 'camunda.client.auth.method'='basic' detected due to '[camunda.client.auth.username, camunda.client.auth.password]' being set.
2025-11-06 19:30:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-06 19:30:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interface.
2025-11-06 19:30:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9080 (http)
2025-11-06 19:30:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 19:30:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-06 19:30:04 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 19:30:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1172 ms
2025-11-06 19:30:05 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-06 19:30:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Starting...
2025-11-06 19:30:05 [main] INFO  com.zaxxer.hikari.pool.HikariPool - ClienteHikariPool - Added connection conn0: url=jdbc:h2:mem:cliente_db user=SA
2025-11-06 19:30:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Start completed.
2025-11-06 19:30:05 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-06 19:30:05 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-06 19:30:06 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-06 19:30:06 [main] INFO  i.c.c.m.MicrometerMetricsRecorder - Enabling Micrometer based metrics for camunda-client (available via Actuator)
2025-11-06 19:30:06 [main] INFO  i.c.z.s.c.c.ZeebeClientProdAutoConfiguration - Creating zeebeClient using zeebeClientConfiguration [io.camunda.zeebe.spring.client.configuration.ZeebeClientConfigurationImpl@5de4f44e]
2025-11-06 19:30:06 [main] WARN  i.c.z.client.impl.ZeebeClientImpl - ZeebeClient is deprecated and will be removed in version 8.10. Please migrate to io.camunda.client.CamundaClient.
2025-11-06 19:30:07 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:cliente_db'
2025-11-06 19:30:07 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-06 19:30:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9080 (http) with context path '/'
2025-11-06 19:30:07 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'activarClienteWorker': [JobWorkerValue{type='activar-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1ff06f00, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-11-06 19:30:07 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'actualizarEstadoClienteWorker': [JobWorkerValue{type='actualizar-estado-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@2c663246, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-11-06 19:30:07 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 2 Job worker(s) of bean 'actualizarInformacionTarjetaWorker': [JobWorkerValue{type='actualizar-informacion-tarjeta', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4643d88c, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}, JobWorkerValue{type='actualizar-informacion-tarjeta', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@64a3d839, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-11-06 19:30:07 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'actualizarRegistroClienteWorker': [JobWorkerValue{type='actualizar-registro-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4b5455c6, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-11-06 19:30:07 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'confirmarReservaWorker': [JobWorkerValue{type='confirmar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@7ec16640, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-11-06 19:30:07 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'crearClienteWorker': [JobWorkerValue{type='crear-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@7d352874, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-11-06 19:30:07 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'finalizarReservaWorker': [JobWorkerValue{type='finalizar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@11483b6f, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-11-06 19:30:07 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'iniciarReservaWorker': [JobWorkerValue{type='iniciar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1ebbb581, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-11-06 19:30:07 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'notificarReservaFallidaWorker': [JobWorkerValue{type='notificar-reserva-fallida', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@720a3eff, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-11-06 19:30:07 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'notificarTarjetaInvalidaWorker': [JobWorkerValue{type='notificar-tarjeta-invalida', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@61a2d9ee, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-11-06 19:30:07 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'obtenerDatosClienteWorker': [JobWorkerValue{type='obtener-datos-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@38b9a64b, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-11-06 19:30:07 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarClienteWorker': [JobWorkerValue{type='validar-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@19a39f7, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-11-06 19:30:07 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarDatosEntradaWorker': [JobWorkerValue{type='validar-datos-entrada', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4a3ebba6, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-11-06 19:30:07 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarTarjetaCreditoWorker': [JobWorkerValue{type='validar-tarjeta-credito', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@682d4502, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='activar-cliente', name='activarClienteWorker#manejarActivarCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1ff06f00, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-estado-cliente', name='actualizarEstadoClienteWorker#actualizarEstado', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@2c663246, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-11-06 19:30:07 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-11-06 19:30:07 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-11-06 19:30:07 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-11-06 19:30:07 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-11-06 19:30:07 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-informacion-tarjeta', name='actualizarInformacionTarjetaWorker#actualizarInformacionTarjeta', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4643d88c, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-informacion-tarjeta', name='actualizarInformacionTarjetaWorker#actualizarInformacionTarjeta', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@64a3d839, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-registro-cliente', name='actualizarRegistroClienteWorker#manejarActualizarRegistroCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4b5455c6, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='confirmar-reserva-cliente', name='confirmarReservaWorker#manejarConfirmarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@7ec16640, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='crear-cliente', name='crearClienteWorker#manejarCrearCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@7d352874, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='finalizar-reserva-cliente', name='finalizarReservaWorker#manejarFinalizarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@11483b6f, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='iniciar-reserva-cliente', name='iniciarReservaWorker#manejarIniciarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1ebbb581, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='notificar-reserva-fallida', name='notificarReservaFallidaWorker#notificarReservaFallida', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@720a3eff, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='notificar-tarjeta-invalida', name='notificarTarjetaInvalidaWorker#notificarTarjetaInvalida', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@61a2d9ee, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='obtener-datos-cliente', name='obtenerDatosClienteWorker#manejarObtenerDatosCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@38b9a64b, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-cliente', name='validarClienteWorker#manejarValidarCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@19a39f7, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-datos-entrada', name='validarDatosEntradaWorker#validarDatosEntrada', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4a3ebba6, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-tarjeta-credito', name='validarTarjetaCreditoWorker#manejarValidarTarjetaCredito', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@682d4502, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-11-06 19:30:07 [main] INFO  d.j.r.c.ServicioClientesApplication - Started ServicioClientesApplication in 4.03 seconds (process running for 4.246)
2025-11-06 19:30:07 [main] INFO  d.j.r.c.ServicioClientesApplication - 
2025-11-06 19:30:07 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-11-06 19:30:07 [main] INFO  d.j.r.c.ServicioClientesApplication - üë§ Servicio de Clientes INICIADO
2025-11-06 19:30:07 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-11-06 19:30:07 [main] INFO  d.j.r.c.ServicioClientesApplication - üìä Puerto: 9080
2025-11-06 19:30:07 [main] INFO  d.j.r.c.ServicioClientesApplication - üìñ Swagger UI: http://localhost:9080/swagger-ui.html
2025-11-06 19:30:07 [main] INFO  d.j.r.c.ServicioClientesApplication - üîç H2 Console: http://localhost:9080/h2-console
2025-11-06 19:30:07 [main] INFO  d.j.r.c.ServicioClientesApplication - üíö Health: http://localhost:9080/actuator/health
2025-11-06 19:30:07 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-11-06 19:30:07 [main] INFO  d.j.r.c.ServicioClientesApplication - 
2025-11-06 19:30:33 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Iniciando validaci√≥n de datos de entrada - Job: 2251799813975436
2025-11-06 19:30:33 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - üîç Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-11-06 19:30:33 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Datos de entrada v√°lidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:30:58 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üöÄ Iniciando worker obtener-datos-cliente - Job Key: 2251799813975539
2025-11-06 19:30:58 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Variables recibidas: {reservaId=ae228724-bb3e-11f0-a664-7a44706aa260, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-11-06 19:30:58 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:30:58 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:30:58 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:30:58 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:30:58 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:30:58 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: ACTIVO - Email: juan.perez@example.com
2025-11-06 19:30:58 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Output construido con 13 variables
2025-11-06 19:30:58 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üì§ Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-11-06 19:31:29 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üöÄ Iniciando worker validar-tarjeta-credito - Job Key: 2251799813975626
2025-11-06 19:31:29 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Variables recibidas: {reservaId=ae228724-bb3e-11f0-a664-7a44706aa260, emailCliente=juan.perez@example.com, paisCliente=Espa√±a, estadoCliente=ACTIVO, numeroPasajeros=2, ciudadCliente=Madrid, emailContacto=cliente@example.com, telefonoCliente=+34600123456, estaBloqueado=false, dniCliente=123****8Z, nombreCompleto=Juan P√©rez Garc√≠a, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-11-06 19:31:29 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚ö†Ô∏è No se proporcion√≥ montoReserva, usando monto por defecto para validaci√≥n
2025-11-06 19:31:29 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üí≥ Validando tarjeta de cr√©dito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:31:29 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:31:29 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:31:29 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:31:29 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Cliente tiene 1 tarjeta(s) registrada(s)
2025-11-06 19:31:29 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - √öltimos 4 d√≠gitos: 0366
2025-11-06 19:31:29 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Fecha de expiraci√≥n v√°lida: 12/2027
2025-11-06 19:31:29 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîê Simulando validaci√≥n con pasarela de pago - Monto: 1000.0‚Ç¨
2025-11-06 19:31:29 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Pasarela de pago: Transacci√≥n APROBADA - C√≥digo: 54124B
2025-11-06 19:31:29 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Tarjeta validada correctamente - C√≥digo autorizaci√≥n: 54124B
2025-11-06 19:31:29 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Output construido con 7 variables
2025-11-06 19:31:29 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üì§ Validaci√≥n completada exitosamente
2025-11-06 19:31:45 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799813975737
2025-11-06 19:31:45 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: ae228724-bb3e-11f0-a664-7a44706aa260
2025-11-06 19:31:45 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:31:45 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:31:45 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:31:45 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: ACTIVO
2025-11-06 19:31:45 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - üöÄ Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: ae228724-bb3e-11f0-a664-7a44706aa260
2025-11-06 19:31:45 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:31:45 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:31:45 [pool-2-thread-1] DEBUG d.j.r.c.d.modelo.agregado.Cliente - üîç Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: ae228724-bb3e-11f0-a664-7a44706aa260
2025-11-06 19:31:45 [pool-2-thread-1] INFO  d.j.r.c.d.modelo.agregado.Cliente - üöÄ Proceso de reserva iniciado para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: ae228724-bb3e-11f0-a664-7a44706aa260
2025-11-06 19:31:45 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üíæ Guardando cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:31:45 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando cliente existente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:31:45 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando datos de entidad existente
2025-11-06 19:31:45 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Sincronizando tarjetas del cliente
2025-11-06 19:31:45 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Tarjetas sincronizadas: 1 tarjetas
2025-11-06 19:31:45 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente guardado exitosamente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:31:45 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - ‚úÖ Proceso de reserva iniciado correctamente para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 19:31:45 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚úÖ Estado de cliente actualizado correctamente: 123e4567-e89b-12d3-a456-426655440000 - ACTIVO ‚Üí EN_PROCESO_RESERVA
2025-11-06 20:06:08 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Iniciando validaci√≥n de datos de entrada - Job: 2251799813982956
2025-11-06 20:06:08 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - üîç Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-11-06 20:06:08 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Datos de entrada v√°lidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:06:49 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üöÄ Iniciando worker obtener-datos-cliente - Job Key: 2251799813983059
2025-11-06 20:06:49 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Variables recibidas: {reservaId=a69dd685-bb43-11f0-a664-7a44706aa260, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-11-06 20:06:49 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:06:49 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:06:49 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:06:49 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:06:49 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:06:49 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: EN_PROCESO_RESERVA - Email: juan.perez@example.com
2025-11-06 20:06:49 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Output construido con 13 variables
2025-11-06 20:06:49 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üì§ Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-11-06 20:07:20 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üöÄ Iniciando worker validar-tarjeta-credito - Job Key: 2251799813983206
2025-11-06 20:07:20 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Variables recibidas: {reservaId=a69dd685-bb43-11f0-a664-7a44706aa260, emailCliente=juan.perez@example.com, paisCliente=Espa√±a, estadoCliente=EN_PROCESO_RESERVA, numeroPasajeros=2, ciudadCliente=Madrid, emailContacto=cliente@example.com, telefonoCliente=+34600123456, estaBloqueado=false, dniCliente=123****8Z, nombreCompleto=Juan P√©rez Garc√≠a, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-11-06 20:07:20 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚ö†Ô∏è No se proporcion√≥ montoReserva, usando monto por defecto para validaci√≥n
2025-11-06 20:07:20 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üí≥ Validando tarjeta de cr√©dito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:07:20 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:07:20 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:07:20 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:07:20 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Cliente tiene 1 tarjeta(s) registrada(s)
2025-11-06 20:07:20 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - √öltimos 4 d√≠gitos: 0366
2025-11-06 20:07:20 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Fecha de expiraci√≥n v√°lida: 12/2027
2025-11-06 20:07:20 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîê Simulando validaci√≥n con pasarela de pago - Monto: 1000.0‚Ç¨
2025-11-06 20:07:21 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Pasarela de pago: Transacci√≥n APROBADA - C√≥digo: 050EAD
2025-11-06 20:07:21 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Tarjeta validada correctamente - C√≥digo autorizaci√≥n: 050EAD
2025-11-06 20:07:21 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Output construido con 7 variables
2025-11-06 20:07:21 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üì§ Validaci√≥n completada exitosamente
2025-11-06 20:07:48 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799813983328
2025-11-06 20:07:48 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: a69dd685-bb43-11f0-a664-7a44706aa260
2025-11-06 20:07:48 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:07:48 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:07:48 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:07:48 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: EN_PROCESO_RESERVA
2025-11-06 20:07:48 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚ùå Transici√≥n de estado inv√°lida: Transici√≥n de estado no permitida: EN_PROCESO_RESERVA ‚Üí EN_PROCESO_RESERVA. Consulte la documentaci√≥n para ver las transiciones v√°lidas.
2025-11-06 20:11:23 [http-nio-9080-exec-6] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 20:11:23 [http-nio-9080-exec-6] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 20:11:23 [http-nio-9080-exec-6] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-06 20:32:43 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Iniciando validaci√≥n de datos de entrada - Job: 2251799813988622
2025-11-06 20:32:43 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - üîç Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-11-06 20:32:43 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Datos de entrada v√°lidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:16 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üöÄ Iniciando worker obtener-datos-cliente - Job Key: 2251799813988729
2025-11-06 20:33:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Variables recibidas: {reservaId=5dc88696-bb47-11f0-a664-7a44706aa260, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-11-06 20:33:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:16 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:16 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:16 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: ACTIVO - Email: juan.perez@example.com
2025-11-06 20:33:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Output construido con 13 variables
2025-11-06 20:33:16 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üì§ Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-11-06 20:33:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üöÄ Iniciando worker validar-tarjeta-credito - Job Key: 2251799813988848
2025-11-06 20:33:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Variables recibidas: {reservaId=5dc88696-bb47-11f0-a664-7a44706aa260, emailCliente=juan.perez@example.com, paisCliente=Espa√±a, estadoCliente=ACTIVO, numeroPasajeros=2, ciudadCliente=Madrid, emailContacto=cliente@example.com, telefonoCliente=+34600123456, estaBloqueado=false, dniCliente=123****8Z, nombreCompleto=Juan P√©rez Garc√≠a, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-11-06 20:33:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚ö†Ô∏è No se proporcion√≥ montoReserva, usando monto por defecto para validaci√≥n
2025-11-06 20:33:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üí≥ Validando tarjeta de cr√©dito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:35 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Cliente tiene 1 tarjeta(s) registrada(s)
2025-11-06 20:33:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - √öltimos 4 d√≠gitos: 0366
2025-11-06 20:33:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Fecha de expiraci√≥n v√°lida: 12/2027
2025-11-06 20:33:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîê Simulando validaci√≥n con pasarela de pago - Monto: 1000.0‚Ç¨
2025-11-06 20:33:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Pasarela de pago: Transacci√≥n APROBADA - C√≥digo: 0F11E3
2025-11-06 20:33:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Tarjeta validada correctamente - C√≥digo autorizaci√≥n: 0F11E3
2025-11-06 20:33:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Output construido con 7 variables
2025-11-06 20:33:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üì§ Validaci√≥n completada exitosamente
2025-11-06 20:33:55 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799813988927
2025-11-06 20:33:55 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: 5dc88696-bb47-11f0-a664-7a44706aa260
2025-11-06 20:33:55 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:55 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: ACTIVO
2025-11-06 20:33:55 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - üöÄ Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 5dc88696-bb47-11f0-a664-7a44706aa260
2025-11-06 20:33:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:55 [pool-2-thread-1] DEBUG d.j.r.c.d.modelo.agregado.Cliente - üîç Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 5dc88696-bb47-11f0-a664-7a44706aa260
2025-11-06 20:33:55 [pool-2-thread-1] INFO  d.j.r.c.d.modelo.agregado.Cliente - üöÄ Proceso de reserva iniciado para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 5dc88696-bb47-11f0-a664-7a44706aa260
2025-11-06 20:33:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üíæ Guardando cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando cliente existente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando datos de entidad existente
2025-11-06 20:33:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Sincronizando tarjetas del cliente
2025-11-06 20:33:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Tarjetas sincronizadas: 1 tarjetas
2025-11-06 20:33:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente guardado exitosamente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:55 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - ‚úÖ Proceso de reserva iniciado correctamente para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:33:55 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚úÖ Estado de cliente actualizado correctamente: 123e4567-e89b-12d3-a456-426655440000 - ACTIVO ‚Üí EN_PROCESO_RESERVA
2025-11-06 20:34:04 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Iniciando validaci√≥n de datos de entrada - Job: 2251799813988978
2025-11-06 20:34:04 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - üîç Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-11-06 20:34:04 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Datos de entrada v√°lidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:34:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üöÄ Iniciando worker obtener-datos-cliente - Job Key: 2251799813989100
2025-11-06 20:34:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Variables recibidas: {reservaId=8e0d65f7-bb47-11f0-a664-7a44706aa260, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-11-06 20:34:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:34:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:34:35 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:34:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:34:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:34:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: EN_PROCESO_RESERVA - Email: juan.perez@example.com
2025-11-06 20:34:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Output construido con 13 variables
2025-11-06 20:34:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üì§ Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-11-06 20:34:56 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üöÄ Iniciando worker validar-tarjeta-credito - Job Key: 2251799813989246
2025-11-06 20:34:56 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Variables recibidas: {reservaId=8e0d65f7-bb47-11f0-a664-7a44706aa260, emailCliente=juan.perez@example.com, paisCliente=Espa√±a, estadoCliente=EN_PROCESO_RESERVA, numeroPasajeros=2, ciudadCliente=Madrid, emailContacto=cliente@example.com, telefonoCliente=+34600123456, estaBloqueado=false, dniCliente=123****8Z, nombreCompleto=Juan P√©rez Garc√≠a, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-11-06 20:34:56 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚ö†Ô∏è No se proporcion√≥ montoReserva, usando monto por defecto para validaci√≥n
2025-11-06 20:34:56 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üí≥ Validando tarjeta de cr√©dito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:34:56 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:34:56 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:34:56 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:34:56 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Cliente tiene 1 tarjeta(s) registrada(s)
2025-11-06 20:34:56 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - √öltimos 4 d√≠gitos: 0366
2025-11-06 20:34:56 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Fecha de expiraci√≥n v√°lida: 12/2027
2025-11-06 20:34:56 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîê Simulando validaci√≥n con pasarela de pago - Monto: 1000.0‚Ç¨
2025-11-06 20:34:56 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Pasarela de pago: Transacci√≥n APROBADA - C√≥digo: E3237C
2025-11-06 20:34:56 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Tarjeta validada correctamente - C√≥digo autorizaci√≥n: E3237C
2025-11-06 20:34:56 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Output construido con 7 variables
2025-11-06 20:34:56 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üì§ Validaci√≥n completada exitosamente
2025-11-06 20:35:16 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799813989352
2025-11-06 20:35:16 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: 8e0d65f7-bb47-11f0-a664-7a44706aa260
2025-11-06 20:35:16 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:35:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:35:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:35:16 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: EN_PROCESO_RESERVA
2025-11-06 20:35:16 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚ùå Transici√≥n de estado inv√°lida: Transici√≥n de estado no permitida: EN_PROCESO_RESERVA ‚Üí EN_PROCESO_RESERVA. Consulte la documentaci√≥n para ver las transiciones v√°lidas.
2025-11-06 20:55:27 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Iniciando validaci√≥n de datos de entrada - Job: 2251799813993275
2025-11-06 20:55:27 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - üîç Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-11-06 20:55:27 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Datos de entrada v√°lidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:55:47 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üöÄ Iniciando worker obtener-datos-cliente - Job Key: 2251799813993358
2025-11-06 20:55:47 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Variables recibidas: {reservaId=8a5adde8-bb4a-11f0-a664-7a44706aa260, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-11-06 20:55:47 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:55:47 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:55:47 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:55:47 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:55:47 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:55:47 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: ACTIVO - Email: juan.perez@example.com
2025-11-06 20:55:47 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Output construido con 13 variables
2025-11-06 20:55:47 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üì§ Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-11-06 20:56:09 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üöÄ Iniciando worker validar-tarjeta-credito - Job Key: 2251799813993438
2025-11-06 20:56:09 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Variables recibidas: {reservaId=8a5adde8-bb4a-11f0-a664-7a44706aa260, emailCliente=juan.perez@example.com, paisCliente=Espa√±a, estadoCliente=ACTIVO, numeroPasajeros=2, ciudadCliente=Madrid, emailContacto=cliente@example.com, telefonoCliente=+34600123456, estaBloqueado=false, dniCliente=123****8Z, nombreCompleto=Juan P√©rez Garc√≠a, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-11-06 20:56:09 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚ö†Ô∏è No se proporcion√≥ montoReserva, usando monto por defecto para validaci√≥n
2025-11-06 20:56:09 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üí≥ Validando tarjeta de cr√©dito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:56:09 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:56:09 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:56:09 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:56:09 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Cliente tiene 1 tarjeta(s) registrada(s)
2025-11-06 20:56:09 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - √öltimos 4 d√≠gitos: 0366
2025-11-06 20:56:09 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Fecha de expiraci√≥n v√°lida: 12/2027
2025-11-06 20:56:09 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîê Simulando validaci√≥n con pasarela de pago - Monto: 1000.0‚Ç¨
2025-11-06 20:56:09 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Pasarela de pago: Transacci√≥n APROBADA - C√≥digo: 5D82EB
2025-11-06 20:56:09 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Tarjeta validada correctamente - C√≥digo autorizaci√≥n: 5D82EB
2025-11-06 20:56:09 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Output construido con 7 variables
2025-11-06 20:56:09 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üì§ Validaci√≥n completada exitosamente
2025-11-06 20:56:28 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799813993519
2025-11-06 20:56:28 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: 8a5adde8-bb4a-11f0-a664-7a44706aa260
2025-11-06 20:56:28 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:56:28 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:56:28 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:56:28 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: ACTIVO
2025-11-06 20:56:28 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - üöÄ Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 8a5adde8-bb4a-11f0-a664-7a44706aa260
2025-11-06 20:56:28 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:56:28 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:56:28 [pool-2-thread-1] DEBUG d.j.r.c.d.modelo.agregado.Cliente - üîç Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 8a5adde8-bb4a-11f0-a664-7a44706aa260
2025-11-06 20:56:28 [pool-2-thread-1] INFO  d.j.r.c.d.modelo.agregado.Cliente - üöÄ Proceso de reserva iniciado para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 8a5adde8-bb4a-11f0-a664-7a44706aa260
2025-11-06 20:56:28 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üíæ Guardando cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:56:28 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando cliente existente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:56:28 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando datos de entidad existente
2025-11-06 20:56:28 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Sincronizando tarjetas del cliente
2025-11-06 20:56:28 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Tarjetas sincronizadas: 1 tarjetas
2025-11-06 20:56:28 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente guardado exitosamente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:56:28 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - ‚úÖ Proceso de reserva iniciado correctamente para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 20:56:28 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚úÖ Estado de cliente actualizado correctamente: 123e4567-e89b-12d3-a456-426655440000 - ACTIVO ‚Üí EN_PROCESO_RESERVA
2025-11-06 20:58:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.NotificarReservaFallidaWorker - üì® Iniciando notificaci√≥n de reserva fallida - Job: 2251799813993993
2025-11-06 20:58:36 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.NotificarReservaFallidaWorker - ‚ùå Error en datos de entrada: La variable 'motivoFallo' es obligatoria
2025-11-06 20:59:42 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Iniciando validaci√≥n de datos de entrada - Job: 2251799813994199
2025-11-06 20:59:42 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - üîç Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-11-06 20:59:42 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Datos de entrada v√°lidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:07 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üöÄ Iniciando worker obtener-datos-cliente - Job Key: 2251799813994288
2025-11-06 21:00:07 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Variables recibidas: {reservaId=1c138de9-bb4b-11f0-a664-7a44706aa260, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-11-06 21:00:07 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:07 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:07 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:07 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:07 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:07 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: ACTIVO - Email: juan.perez@example.com
2025-11-06 21:00:07 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Output construido con 13 variables
2025-11-06 21:00:07 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üì§ Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-11-06 21:00:33 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üöÄ Iniciando worker validar-tarjeta-credito - Job Key: 2251799813994385
2025-11-06 21:00:33 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Variables recibidas: {reservaId=1c138de9-bb4b-11f0-a664-7a44706aa260, emailCliente=juan.perez@example.com, paisCliente=Espa√±a, estadoCliente=ACTIVO, numeroPasajeros=2, ciudadCliente=Madrid, emailContacto=cliente@example.com, telefonoCliente=+34600123456, estaBloqueado=false, dniCliente=123****8Z, nombreCompleto=Juan P√©rez Garc√≠a, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-11-06 21:00:33 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚ö†Ô∏è No se proporcion√≥ montoReserva, usando monto por defecto para validaci√≥n
2025-11-06 21:00:33 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üí≥ Validando tarjeta de cr√©dito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:33 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:33 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:33 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:33 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Cliente tiene 1 tarjeta(s) registrada(s)
2025-11-06 21:00:33 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - √öltimos 4 d√≠gitos: 0366
2025-11-06 21:00:33 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Fecha de expiraci√≥n v√°lida: 12/2027
2025-11-06 21:00:33 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîê Simulando validaci√≥n con pasarela de pago - Monto: 1000.0‚Ç¨
2025-11-06 21:00:34 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Pasarela de pago: Transacci√≥n APROBADA - C√≥digo: 800755
2025-11-06 21:00:34 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Tarjeta validada correctamente - C√≥digo autorizaci√≥n: 800755
2025-11-06 21:00:34 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Output construido con 7 variables
2025-11-06 21:00:34 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üì§ Validaci√≥n completada exitosamente
2025-11-06 21:00:53 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799813994476
2025-11-06 21:00:53 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: 1c138de9-bb4b-11f0-a664-7a44706aa260
2025-11-06 21:00:53 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:53 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:53 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:53 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: ACTIVO
2025-11-06 21:00:53 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - üöÄ Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 1c138de9-bb4b-11f0-a664-7a44706aa260
2025-11-06 21:00:53 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:53 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:53 [pool-2-thread-1] DEBUG d.j.r.c.d.modelo.agregado.Cliente - üîç Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 1c138de9-bb4b-11f0-a664-7a44706aa260
2025-11-06 21:00:53 [pool-2-thread-1] INFO  d.j.r.c.d.modelo.agregado.Cliente - üöÄ Proceso de reserva iniciado para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 1c138de9-bb4b-11f0-a664-7a44706aa260
2025-11-06 21:00:53 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üíæ Guardando cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:53 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando cliente existente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:53 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando datos de entidad existente
2025-11-06 21:00:53 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Sincronizando tarjetas del cliente
2025-11-06 21:00:53 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Tarjetas sincronizadas: 1 tarjetas
2025-11-06 21:00:53 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente guardado exitosamente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:53 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - ‚úÖ Proceso de reserva iniciado correctamente para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:00:53 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚úÖ Estado de cliente actualizado correctamente: 123e4567-e89b-12d3-a456-426655440000 - ACTIVO ‚Üí EN_PROCESO_RESERVA
2025-11-06 21:06:49 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799813995849
2025-11-06 21:06:49 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: 1c138de9-bb4b-11f0-a664-7a44706aa260
2025-11-06 21:06:49 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:06:49 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:06:49 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:06:49 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: EN_PROCESO_RESERVA
2025-11-06 21:06:49 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚ùå Transici√≥n de estado inv√°lida: Transici√≥n de estado no permitida: EN_PROCESO_RESERVA ‚Üí EN_PROCESO_RESERVA. Consulte la documentaci√≥n para ver las transiciones v√°lidas.
2025-11-06 21:11:05 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Iniciando validaci√≥n de datos de entrada - Job: 2251799813996693
2025-11-06 21:11:05 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - üîç Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-11-06 21:11:05 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Datos de entrada v√°lidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:11:32 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üöÄ Iniciando worker obtener-datos-cliente - Job Key: 2251799813996794
2025-11-06 21:11:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Variables recibidas: {reservaId=b98ded3a-bb4c-11f0-a664-7a44706aa260, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-11-06 21:11:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:11:32 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:11:32 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:11:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:11:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:11:32 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: ACTIVO - Email: juan.perez@example.com
2025-11-06 21:11:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Output construido con 13 variables
2025-11-06 21:11:32 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üì§ Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-11-06 21:11:56 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üöÄ Iniciando worker validar-tarjeta-credito - Job Key: 2251799813996882
2025-11-06 21:11:56 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Variables recibidas: {reservaId=b98ded3a-bb4c-11f0-a664-7a44706aa260, emailCliente=juan.perez@example.com, paisCliente=Espa√±a, estadoCliente=ACTIVO, numeroPasajeros=2, ciudadCliente=Madrid, emailContacto=cliente@example.com, telefonoCliente=+34600123456, estaBloqueado=false, dniCliente=123****8Z, nombreCompleto=Juan P√©rez Garc√≠a, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-11-06 21:11:56 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚ö†Ô∏è No se proporcion√≥ montoReserva, usando monto por defecto para validaci√≥n
2025-11-06 21:11:56 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üí≥ Validando tarjeta de cr√©dito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:11:56 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:11:56 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:11:56 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:11:56 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Cliente tiene 1 tarjeta(s) registrada(s)
2025-11-06 21:11:56 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - √öltimos 4 d√≠gitos: 0366
2025-11-06 21:11:56 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Fecha de expiraci√≥n v√°lida: 12/2027
2025-11-06 21:11:56 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîê Simulando validaci√≥n con pasarela de pago - Monto: 1000.0‚Ç¨
2025-11-06 21:11:56 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Pasarela de pago: Transacci√≥n APROBADA - C√≥digo: AC225F
2025-11-06 21:11:56 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Tarjeta validada correctamente - C√≥digo autorizaci√≥n: AC225F
2025-11-06 21:11:56 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Output construido con 7 variables
2025-11-06 21:11:56 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üì§ Validaci√≥n completada exitosamente
2025-11-06 21:12:16 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799813996998
2025-11-06 21:12:16 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: b98ded3a-bb4c-11f0-a664-7a44706aa260
2025-11-06 21:12:16 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:12:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:12:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:12:16 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: ACTIVO
2025-11-06 21:12:16 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - üöÄ Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: b98ded3a-bb4c-11f0-a664-7a44706aa260
2025-11-06 21:12:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:12:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:12:16 [pool-2-thread-1] DEBUG d.j.r.c.d.modelo.agregado.Cliente - üîç Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: b98ded3a-bb4c-11f0-a664-7a44706aa260
2025-11-06 21:12:16 [pool-2-thread-1] INFO  d.j.r.c.d.modelo.agregado.Cliente - üöÄ Proceso de reserva iniciado para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: b98ded3a-bb4c-11f0-a664-7a44706aa260
2025-11-06 21:12:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üíæ Guardando cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:12:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando cliente existente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:12:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando datos de entidad existente
2025-11-06 21:12:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Sincronizando tarjetas del cliente
2025-11-06 21:12:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Tarjetas sincronizadas: 1 tarjetas
2025-11-06 21:12:16 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente guardado exitosamente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:12:16 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - ‚úÖ Proceso de reserva iniciado correctamente para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:12:16 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚úÖ Estado de cliente actualizado correctamente: 123e4567-e89b-12d3-a456-426655440000 - ACTIVO ‚Üí EN_PROCESO_RESERVA
2025-11-06 21:24:49 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799813999505
2025-11-06 21:24:49 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: b98ded3a-bb4c-11f0-a664-7a44706aa260
2025-11-06 21:24:49 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:24:49 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:24:49 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:24:49 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: EN_PROCESO_RESERVA
2025-11-06 21:24:49 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚ùå Transici√≥n de estado inv√°lida: Transici√≥n de estado no permitida: EN_PROCESO_RESERVA ‚Üí EN_PROCESO_RESERVA. Consulte la documentaci√≥n para ver las transiciones v√°lidas.
2025-11-06 21:35:52 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Iniciando validaci√≥n de datos de entrada - Job: 2251799814001643
2025-11-06 21:35:52 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - üîç Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-11-06 21:35:52 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Datos de entrada v√°lidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:36:12 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üöÄ Iniciando worker obtener-datos-cliente - Job Key: 2251799814001780
2025-11-06 21:36:12 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Variables recibidas: {reservaId=25bc246b-bb50-11f0-a664-7a44706aa260, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-11-06 21:36:12 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:36:12 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:36:12 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:36:12 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:36:12 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:36:12 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: EN_PROCESO_RESERVA - Email: juan.perez@example.com
2025-11-06 21:36:12 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Output construido con 13 variables
2025-11-06 21:36:12 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üì§ Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-11-06 21:36:43 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üöÄ Iniciando worker validar-tarjeta-credito - Job Key: 2251799814001870
2025-11-06 21:36:43 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Variables recibidas: {reservaId=25bc246b-bb50-11f0-a664-7a44706aa260, emailCliente=juan.perez@example.com, paisCliente=Espa√±a, estadoCliente=EN_PROCESO_RESERVA, numeroPasajeros=2, ciudadCliente=Madrid, emailContacto=cliente@example.com, telefonoCliente=+34600123456, estaBloqueado=false, dniCliente=123****8Z, nombreCompleto=Juan P√©rez Garc√≠a, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-11-06 21:36:43 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚ö†Ô∏è No se proporcion√≥ montoReserva, usando monto por defecto para validaci√≥n
2025-11-06 21:36:43 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üí≥ Validando tarjeta de cr√©dito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:36:43 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:36:43 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:36:43 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:36:43 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Cliente tiene 1 tarjeta(s) registrada(s)
2025-11-06 21:36:43 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - √öltimos 4 d√≠gitos: 0366
2025-11-06 21:36:43 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Fecha de expiraci√≥n v√°lida: 12/2027
2025-11-06 21:36:43 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîê Simulando validaci√≥n con pasarela de pago - Monto: 1000.0‚Ç¨
2025-11-06 21:36:43 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Pasarela de pago: Transacci√≥n APROBADA - C√≥digo: EAB559
2025-11-06 21:36:43 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Tarjeta validada correctamente - C√≥digo autorizaci√≥n: EAB559
2025-11-06 21:36:43 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Output construido con 7 variables
2025-11-06 21:36:43 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üì§ Validaci√≥n completada exitosamente
2025-11-06 21:37:23 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799814001985
2025-11-06 21:37:23 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: 25bc246b-bb50-11f0-a664-7a44706aa260
2025-11-06 21:37:23 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:37:23 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:37:23 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:37:23 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: EN_PROCESO_RESERVA
2025-11-06 21:37:23 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚ùå Transici√≥n de estado inv√°lida: Transici√≥n de estado no permitida: EN_PROCESO_RESERVA ‚Üí EN_PROCESO_RESERVA. Consulte la documentaci√≥n para ver las transiciones v√°lidas.
2025-11-06 21:38:21 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Iniciando validaci√≥n de datos de entrada - Job: 2251799814002263
2025-11-06 21:38:21 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - üîç Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-11-06 21:38:21 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Datos de entrada v√°lidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:39:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üöÄ Iniciando worker obtener-datos-cliente - Job Key: 2251799814002349
2025-11-06 21:39:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Variables recibidas: {reservaId=88b18bfc-bb50-11f0-a664-7a44706aa260, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-11-06 21:39:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:39:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:39:00 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:39:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:39:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:39:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: ACTIVO - Email: juan.perez@example.com
2025-11-06 21:39:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Output construido con 13 variables
2025-11-06 21:39:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üì§ Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-11-06 21:39:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üöÄ Iniciando worker validar-tarjeta-credito - Job Key: 2251799814002472
2025-11-06 21:39:36 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Variables recibidas: {reservaId=88b18bfc-bb50-11f0-a664-7a44706aa260, emailCliente=juan.perez@example.com, paisCliente=Espa√±a, estadoCliente=ACTIVO, numeroPasajeros=2, ciudadCliente=Madrid, emailContacto=cliente@example.com, telefonoCliente=+34600123456, estaBloqueado=false, dniCliente=123****8Z, nombreCompleto=Juan P√©rez Garc√≠a, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-11-06 21:39:36 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚ö†Ô∏è No se proporcion√≥ montoReserva, usando monto por defecto para validaci√≥n
2025-11-06 21:39:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üí≥ Validando tarjeta de cr√©dito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:39:36 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:39:36 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:39:36 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:39:36 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Cliente tiene 1 tarjeta(s) registrada(s)
2025-11-06 21:39:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - √öltimos 4 d√≠gitos: 0366
2025-11-06 21:39:36 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Fecha de expiraci√≥n v√°lida: 12/2027
2025-11-06 21:39:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîê Simulando validaci√≥n con pasarela de pago - Monto: 1000.0‚Ç¨
2025-11-06 21:39:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Pasarela de pago: Transacci√≥n APROBADA - C√≥digo: 86232E
2025-11-06 21:39:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Tarjeta validada correctamente - C√≥digo autorizaci√≥n: 86232E
2025-11-06 21:39:36 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Output construido con 7 variables
2025-11-06 21:39:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üì§ Validaci√≥n completada exitosamente
2025-11-06 21:40:11 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799814002621
2025-11-06 21:40:11 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: 88b18bfc-bb50-11f0-a664-7a44706aa260
2025-11-06 21:40:11 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:40:11 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:40:11 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:40:11 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: ACTIVO
2025-11-06 21:40:11 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - üöÄ Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 88b18bfc-bb50-11f0-a664-7a44706aa260
2025-11-06 21:40:11 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:40:11 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:40:11 [pool-2-thread-1] DEBUG d.j.r.c.d.modelo.agregado.Cliente - üîç Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 88b18bfc-bb50-11f0-a664-7a44706aa260
2025-11-06 21:40:11 [pool-2-thread-1] INFO  d.j.r.c.d.modelo.agregado.Cliente - üöÄ Proceso de reserva iniciado para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 88b18bfc-bb50-11f0-a664-7a44706aa260
2025-11-06 21:40:11 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üíæ Guardando cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:40:11 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando cliente existente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:40:11 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando datos de entidad existente
2025-11-06 21:40:11 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Sincronizando tarjetas del cliente
2025-11-06 21:40:11 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Tarjetas sincronizadas: 1 tarjetas
2025-11-06 21:40:11 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente guardado exitosamente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:40:11 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - ‚úÖ Proceso de reserva iniciado correctamente para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:40:11 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚úÖ Estado de cliente actualizado correctamente: 123e4567-e89b-12d3-a456-426655440000 - ACTIVO ‚Üí EN_PROCESO_RESERVA
2025-11-06 21:44:04 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799814003704
2025-11-06 21:44:04 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: 88b18bfc-bb50-11f0-a664-7a44706aa260
2025-11-06 21:44:04 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:44:04 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:44:04 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:44:04 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: EN_PROCESO_RESERVA
2025-11-06 21:44:04 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚ùå Transici√≥n de estado inv√°lida: Transici√≥n de estado no permitida: EN_PROCESO_RESERVA ‚Üí EN_PROCESO_RESERVA. Consulte la documentaci√≥n para ver las transiciones v√°lidas.
2025-11-06 21:51:20 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Iniciando validaci√≥n de datos de entrada - Job: 2251799814005097
2025-11-06 21:51:20 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - üîç Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-11-06 21:51:20 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Datos de entrada v√°lidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:51:59 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üöÄ Iniciando worker obtener-datos-cliente - Job Key: 2251799814005221
2025-11-06 21:51:59 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Variables recibidas: {reservaId=52c045cd-bb52-11f0-a664-7a44706aa260, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-11-06 21:51:59 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:51:59 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:51:59 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:51:59 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:51:59 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:51:59 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: EN_PROCESO_RESERVA - Email: juan.perez@example.com
2025-11-06 21:51:59 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Output construido con 13 variables
2025-11-06 21:51:59 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üì§ Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-11-06 21:52:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üöÄ Iniciando worker validar-tarjeta-credito - Job Key: 2251799814005367
2025-11-06 21:52:36 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Variables recibidas: {reservaId=52c045cd-bb52-11f0-a664-7a44706aa260, emailCliente=juan.perez@example.com, paisCliente=Espa√±a, estadoCliente=EN_PROCESO_RESERVA, numeroPasajeros=2, ciudadCliente=Madrid, emailContacto=cliente@example.com, telefonoCliente=+34600123456, estaBloqueado=false, dniCliente=123****8Z, nombreCompleto=Juan P√©rez Garc√≠a, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-11-06 21:52:36 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚ö†Ô∏è No se proporcion√≥ montoReserva, usando monto por defecto para validaci√≥n
2025-11-06 21:52:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üí≥ Validando tarjeta de cr√©dito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:52:36 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:52:36 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:52:36 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:52:36 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Cliente tiene 1 tarjeta(s) registrada(s)
2025-11-06 21:52:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - √öltimos 4 d√≠gitos: 0366
2025-11-06 21:52:36 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Fecha de expiraci√≥n v√°lida: 12/2027
2025-11-06 21:52:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîê Simulando validaci√≥n con pasarela de pago - Monto: 1000.0‚Ç¨
2025-11-06 21:52:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Pasarela de pago: Transacci√≥n APROBADA - C√≥digo: CAB865
2025-11-06 21:52:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Tarjeta validada correctamente - C√≥digo autorizaci√≥n: CAB865
2025-11-06 21:52:36 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Output construido con 7 variables
2025-11-06 21:52:36 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üì§ Validaci√≥n completada exitosamente
2025-11-06 21:53:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799814005502
2025-11-06 21:53:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: 52c045cd-bb52-11f0-a664-7a44706aa260
2025-11-06 21:53:00 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:53:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:53:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:53:00 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: EN_PROCESO_RESERVA
2025-11-06 21:53:00 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚ùå Transici√≥n de estado inv√°lida: Transici√≥n de estado no permitida: EN_PROCESO_RESERVA ‚Üí EN_PROCESO_RESERVA. Consulte la documentaci√≥n para ver las transiciones v√°lidas.
2025-11-06 21:53:41 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Iniciando validaci√≥n de datos de entrada - Job: 2251799814005645
2025-11-06 21:53:41 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - üîç Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-11-06 21:53:41 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Datos de entrada v√°lidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:12 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üöÄ Iniciando worker obtener-datos-cliente - Job Key: 2251799814005759
2025-11-06 21:54:12 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Variables recibidas: {reservaId=a79000ee-bb52-11f0-a664-7a44706aa260, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-11-06 21:54:12 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:12 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:12 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:12 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:12 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:12 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: ACTIVO - Email: juan.perez@example.com
2025-11-06 21:54:12 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Output construido con 13 variables
2025-11-06 21:54:12 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üì§ Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-11-06 21:54:32 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üöÄ Iniciando worker validar-tarjeta-credito - Job Key: 2251799814005880
2025-11-06 21:54:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Variables recibidas: {reservaId=a79000ee-bb52-11f0-a664-7a44706aa260, emailCliente=juan.perez@example.com, paisCliente=Espa√±a, estadoCliente=ACTIVO, numeroPasajeros=2, ciudadCliente=Madrid, emailContacto=cliente@example.com, telefonoCliente=+34600123456, estaBloqueado=false, dniCliente=123****8Z, nombreCompleto=Juan P√©rez Garc√≠a, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-11-06 21:54:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚ö†Ô∏è No se proporcion√≥ montoReserva, usando monto por defecto para validaci√≥n
2025-11-06 21:54:32 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üí≥ Validando tarjeta de cr√©dito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:32 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Cliente tiene 1 tarjeta(s) registrada(s)
2025-11-06 21:54:32 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - √öltimos 4 d√≠gitos: 0366
2025-11-06 21:54:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Fecha de expiraci√≥n v√°lida: 12/2027
2025-11-06 21:54:32 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîê Simulando validaci√≥n con pasarela de pago - Monto: 1000.0‚Ç¨
2025-11-06 21:54:32 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Pasarela de pago: Transacci√≥n APROBADA - C√≥digo: EE3B3A
2025-11-06 21:54:32 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Tarjeta validada correctamente - C√≥digo autorizaci√≥n: EE3B3A
2025-11-06 21:54:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Output construido con 7 variables
2025-11-06 21:54:32 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üì§ Validaci√≥n completada exitosamente
2025-11-06 21:54:52 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799814005966
2025-11-06 21:54:52 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: a79000ee-bb52-11f0-a664-7a44706aa260
2025-11-06 21:54:52 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:52 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:52 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:52 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: ACTIVO
2025-11-06 21:54:52 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - üöÄ Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: a79000ee-bb52-11f0-a664-7a44706aa260
2025-11-06 21:54:52 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:52 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:52 [pool-2-thread-1] DEBUG d.j.r.c.d.modelo.agregado.Cliente - üîç Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: a79000ee-bb52-11f0-a664-7a44706aa260
2025-11-06 21:54:52 [pool-2-thread-1] INFO  d.j.r.c.d.modelo.agregado.Cliente - üöÄ Proceso de reserva iniciado para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: a79000ee-bb52-11f0-a664-7a44706aa260
2025-11-06 21:54:52 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üíæ Guardando cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:52 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando cliente existente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:52 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando datos de entidad existente
2025-11-06 21:54:52 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Sincronizando tarjetas del cliente
2025-11-06 21:54:52 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Tarjetas sincronizadas: 1 tarjetas
2025-11-06 21:54:52 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente guardado exitosamente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:52 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - ‚úÖ Proceso de reserva iniciado correctamente para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:54:52 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚úÖ Estado de cliente actualizado correctamente: 123e4567-e89b-12d3-a456-426655440000 - ACTIVO ‚Üí EN_PROCESO_RESERVA
2025-11-06 21:56:33 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.NotificarReservaFallidaWorker - üì® Iniciando notificaci√≥n de reserva fallida - Job: 2251799814006355
2025-11-06 21:56:33 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.NotificarReservaFallidaWorker - ‚ùå Error en datos de entrada: La variable 'motivoFallo' es obligatoria
2025-11-06 21:57:07 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Iniciando validaci√≥n de datos de entrada - Job: 2251799814006554
2025-11-06 21:57:07 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - üîç Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-11-06 21:57:07 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ‚úÖ Datos de entrada v√°lidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:57:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üöÄ Iniciando worker obtener-datos-cliente - Job Key: 2251799814006642
2025-11-06 21:57:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Variables recibidas: {reservaId=28283b0f-bb53-11f0-a664-7a44706aa260, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-11-06 21:57:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:57:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üîç Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:57:35 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:57:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:57:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:57:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: ACTIVO - Email: juan.perez@example.com
2025-11-06 21:57:35 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ‚úÖ Output construido con 13 variables
2025-11-06 21:57:35 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - üì§ Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-11-06 21:57:55 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üöÄ Iniciando worker validar-tarjeta-credito - Job Key: 2251799814006733
2025-11-06 21:57:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Variables recibidas: {reservaId=28283b0f-bb53-11f0-a664-7a44706aa260, emailCliente=juan.perez@example.com, paisCliente=Espa√±a, estadoCliente=ACTIVO, numeroPasajeros=2, ciudadCliente=Madrid, emailContacto=cliente@example.com, telefonoCliente=+34600123456, estaBloqueado=false, dniCliente=123****8Z, nombreCompleto=Juan P√©rez Garc√≠a, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-11-06 21:57:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚ö†Ô∏è No se proporcion√≥ montoReserva, usando monto por defecto para validaci√≥n
2025-11-06 21:57:55 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üí≥ Validando tarjeta de cr√©dito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:57:55 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:57:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:57:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:57:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Cliente tiene 1 tarjeta(s) registrada(s)
2025-11-06 21:57:55 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîç Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - √öltimos 4 d√≠gitos: 0366
2025-11-06 21:57:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Fecha de expiraci√≥n v√°lida: 12/2027
2025-11-06 21:57:55 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üîê Simulando validaci√≥n con pasarela de pago - Monto: 1000.0‚Ç¨
2025-11-06 21:57:55 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Pasarela de pago: Transacci√≥n APROBADA - C√≥digo: 159BBB
2025-11-06 21:57:55 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Tarjeta validada correctamente - C√≥digo autorizaci√≥n: 159BBB
2025-11-06 21:57:55 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ‚úÖ Output construido con 7 variables
2025-11-06 21:57:55 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - üì§ Validaci√≥n completada exitosamente
2025-11-06 21:58:10 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799814006818
2025-11-06 21:58:10 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: 28283b0f-bb53-11f0-a664-7a44706aa260
2025-11-06 21:58:10 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:58:10 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:58:10 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:58:10 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: ACTIVO
2025-11-06 21:58:10 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - üöÄ Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 28283b0f-bb53-11f0-a664-7a44706aa260
2025-11-06 21:58:10 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:58:10 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:58:10 [pool-2-thread-1] DEBUG d.j.r.c.d.modelo.agregado.Cliente - üîç Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 28283b0f-bb53-11f0-a664-7a44706aa260
2025-11-06 21:58:10 [pool-2-thread-1] INFO  d.j.r.c.d.modelo.agregado.Cliente - üöÄ Proceso de reserva iniciado para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 28283b0f-bb53-11f0-a664-7a44706aa260
2025-11-06 21:58:10 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üíæ Guardando cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:58:10 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando cliente existente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:58:10 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Actualizando datos de entidad existente
2025-11-06 21:58:10 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîÑ Sincronizando tarjetas del cliente
2025-11-06 21:58:10 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Tarjetas sincronizadas: 1 tarjetas
2025-11-06 21:58:10 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente guardado exitosamente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:58:10 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - ‚úÖ Proceso de reserva iniciado correctamente para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 21:58:10 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚úÖ Estado de cliente actualizado correctamente: 123e4567-e89b-12d3-a456-426655440000 - ACTIVO ‚Üí EN_PROCESO_RESERVA
2025-11-06 22:00:02 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîÑ Iniciando actualizaci√≥n de estado de cliente - Job: 2251799814007453
2025-11-06 22:00:02 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - üîç Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 ‚Üí Estado nuevo: EN_PROCESO_RESERVA - Reserva: 28283b0f-bb53-11f0-a664-7a44706aa260
2025-11-06 22:00:02 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üîç Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 22:00:02 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - üîç Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 22:00:02 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ‚úÖ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-11-06 22:00:02 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - üìä Estado del cliente 123e4567-e89b-12d3-a456-426655440000: EN_PROCESO_RESERVA
2025-11-06 22:00:02 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ‚ùå Transici√≥n de estado inv√°lida: Transici√≥n de estado no permitida: EN_PROCESO_RESERVA ‚Üí EN_PROCESO_RESERVA. Consulte la documentaci√≥n para ver las transiciones v√°lidas.
2025-11-06 22:01:15 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-06 22:01:15 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-06 22:01:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-06 22:01:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Shutdown initiated...
2025-11-06 22:01:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Shutdown completed.
