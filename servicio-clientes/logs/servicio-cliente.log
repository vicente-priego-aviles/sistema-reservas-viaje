2025-10-29 13:28:50 [main] INFO  d.j.r.c.ServicioClientesApplication - Starting ServicioClientesApplication using Java 21.0.7 with PID 11001 (/home/vicente/IdeaProjects/sistema-reservas-viaje/servicio-clientes/target/classes started by vicente in /home/vicente/IdeaProjects/sistema-reservas-viaje/servicio-clientes)
2025-10-29 13:28:50 [main] DEBUG d.j.r.c.ServicioClientesApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-29 13:28:50 [main] INFO  d.j.r.c.ServicioClientesApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-29 13:28:50 [main] WARN  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Legacy property 'camunda.client.zeebe.grpc-address' found, setting to 'camunda.client.grpc-address'. Please update your setup to use the latest property
2025-10-29 13:28:50 [main] WARN  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Legacy property 'camunda.client.zeebe.rest-address' found, setting to 'camunda.client.rest-address'. Please update your setup to use the latest property
2025-10-29 13:28:50 [main] INFO  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Implicit 'camunda.client.auth.method'='basic' detected due to '[camunda.client.auth.username, camunda.client.auth.password]' being set.
2025-10-29 13:28:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-29 13:28:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interface.
2025-10-29 13:28:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9080 (http)
2025-10-29 13:28:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-29 13:28:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-29 13:28:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-29 13:28:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 942 ms
2025-10-29 13:28:51 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-29 13:28:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Starting...
2025-10-29 13:28:52 [main] INFO  com.zaxxer.hikari.pool.HikariPool - ClienteHikariPool - Added connection conn0: url=jdbc:h2:mem:cliente_db user=SA
2025-10-29 13:28:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Start completed.
2025-10-29 13:28:52 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-29 13:28:52 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-29 13:28:52 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-29 13:28:53 [main] INFO  i.c.c.m.MicrometerMetricsRecorder - Enabling Micrometer based metrics for camunda-client (available via Actuator)
2025-10-29 13:28:53 [main] INFO  i.c.z.s.c.c.ZeebeClientProdAutoConfiguration - Creating zeebeClient using zeebeClientConfiguration [io.camunda.zeebe.spring.client.configuration.ZeebeClientConfigurationImpl@48e13ec9]
2025-10-29 13:28:53 [main] WARN  i.c.z.client.impl.ZeebeClientImpl - ZeebeClient is deprecated and will be removed in version 8.10. Please migrate to io.camunda.client.CamundaClient.
2025-10-29 13:28:53 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:cliente_db'
2025-10-29 13:28:53 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-10-29 13:28:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9080 (http) with context path '/'
2025-10-29 13:28:53 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'activarClienteWorker': [JobWorkerValue{type='activar-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@11db4d00, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 13:28:53 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'actualizarEstadoClienteWorker': [JobWorkerValue{type='actualizar-estado-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@48a26095, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 13:28:53 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 2 Job worker(s) of bean 'actualizarInformacionTarjetaWorker': [JobWorkerValue{type='actualizar-informacion-tarjeta', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@10117005, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}, JobWorkerValue{type='actualizar-informacion-tarjeta', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@181cf791, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 13:28:53 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'actualizarRegistroClienteWorker': [JobWorkerValue{type='actualizar-registro-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@44e98424, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 13:28:53 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'confirmarReservaWorker': [JobWorkerValue{type='confirmar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@48af8567, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 13:28:53 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'crearClienteWorker': [JobWorkerValue{type='crear-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6980d3b3, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 13:28:53 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'finalizarReservaWorker': [JobWorkerValue{type='finalizar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@270a73ba, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 13:28:53 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'iniciarReservaWorker': [JobWorkerValue{type='iniciar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@133a8a9f, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 13:28:53 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'notificarReservaFallidaWorker': [JobWorkerValue{type='notificar-reserva-fallida', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@27d9ba11, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 13:28:53 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'notificarTarjetaInvalidaWorker': [JobWorkerValue{type='notificar-tarjeta-invalida', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6087daa3, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 13:28:53 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'obtenerDatosClienteWorker': [JobWorkerValue{type='obtener-datos-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@364b2c46, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 13:28:53 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarClienteWorker': [JobWorkerValue{type='validar-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@348a2f49, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 13:28:53 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarDatosEntradaWorker': [JobWorkerValue{type='validar-datos-entrada', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6bea3a13, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 13:28:53 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarTarjetaCreditoWorker': [JobWorkerValue{type='validar-tarjeta-credito', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@350c7188, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='activar-cliente', name='activarClienteWorker#manejarActivarCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@11db4d00, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-estado-cliente', name='actualizarEstadoClienteWorker#actualizarEstado', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@48a26095, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:53 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 13:28:53 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 13:28:53 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 13:28:53 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 13:28:53 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 13:28:53 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-informacion-tarjeta', name='actualizarInformacionTarjetaWorker#actualizarInformacionTarjeta', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@10117005, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-informacion-tarjeta', name='actualizarInformacionTarjetaWorker#actualizarInformacionTarjeta', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@181cf791, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-registro-cliente', name='actualizarRegistroClienteWorker#manejarActualizarRegistroCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@44e98424, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='confirmar-reserva-cliente', name='confirmarReservaWorker#manejarConfirmarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@48af8567, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='crear-cliente', name='crearClienteWorker#manejarCrearCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6980d3b3, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='finalizar-reserva-cliente', name='finalizarReservaWorker#manejarFinalizarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@270a73ba, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='iniciar-reserva-cliente', name='iniciarReservaWorker#manejarIniciarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@133a8a9f, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='notificar-reserva-fallida', name='notificarReservaFallidaWorker#notificarReservaFallida', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@27d9ba11, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='notificar-tarjeta-invalida', name='notificarTarjetaInvalidaWorker#notificarTarjetaInvalida', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6087daa3, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='obtener-datos-cliente', name='obtenerDatosClienteWorker#manejarObtenerDatosCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@364b2c46, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-cliente', name='validarClienteWorker#manejarValidarCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@348a2f49, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-datos-entrada', name='validarDatosEntradaWorker#validarDatosEntrada', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6bea3a13, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:53 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-tarjeta-credito', name='validarTarjetaCreditoWorker#manejarValidarTarjetaCredito', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@350c7188, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 13:28:54 [main] INFO  d.j.r.c.ServicioClientesApplication - Started ServicioClientesApplication in 3.636 seconds (process running for 3.836)
2025-10-29 13:28:54 [main] INFO  d.j.r.c.ServicioClientesApplication - 
2025-10-29 13:28:54 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 13:28:54 [main] INFO  d.j.r.c.ServicioClientesApplication - 👤 Servicio de Clientes INICIADO
2025-10-29 13:28:54 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 13:28:54 [main] INFO  d.j.r.c.ServicioClientesApplication - 📊 Puerto: 9080
2025-10-29 13:28:54 [main] INFO  d.j.r.c.ServicioClientesApplication - 📖 Swagger UI: http://localhost:9080/swagger-ui.html
2025-10-29 13:28:54 [main] INFO  d.j.r.c.ServicioClientesApplication - 🔍 H2 Console: http://localhost:9080/h2-console
2025-10-29 13:28:54 [main] INFO  d.j.r.c.ServicioClientesApplication - 💚 Health: http://localhost:9080/actuator/health
2025-10-29 13:28:54 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 13:28:54 [main] INFO  d.j.r.c.ServicioClientesApplication - 
2025-10-29 13:29:14 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Iniciando validación de datos de entrada - Job: 2251799813779338
2025-10-29 13:29:14 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - 🔍 Variables recibidas: [reservaId, workerId, variables, taskId]
2025-10-29 13:29:14 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ❌ Datos de entrada inválidos - 7 errores encontrados
2025-10-29 13:29:14 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ❌ El campo 'clienteId' es obligatorio
2025-10-29 13:29:14 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ❌ El campo 'fechaInicio' es obligatorio
2025-10-29 13:29:14 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ❌ El campo 'fechaFin' es obligatorio
2025-10-29 13:29:14 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ❌ El campo 'destino' es obligatorio
2025-10-29 13:29:14 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ❌ El campo 'numeroPasajeros' es obligatorio
2025-10-29 13:29:14 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ❌ El campo 'emailContacto' es obligatorio
2025-10-29 13:29:14 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ❌ El campo 'telefonoContacto' es obligatorio
2025-10-29 13:29:24 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Iniciando validación de datos de entrada - Job: 2251799813802322
2025-10-29 13:29:24 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - 🔍 Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-10-29 13:29:24 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Datos de entrada válidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 13:29:45 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🚀 Iniciando worker obtener-datos-cliente - Job Key: 2251799813802407
2025-10-29 13:29:45 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Variables recibidas: {reservaId=e2c54728-b4c2-11f0-ac6e-9676306ea2fe, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-10-29 13:29:45 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ✅ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 13:29:45 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 13:29:45 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 13:29:45 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 13:29:45 [pool-2-thread-1] WARN  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ⚠️ Cliente no encontrado en el sistema: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 13:29:45 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 📤 Respuesta preparada: clienteObtenido=false
2025-10-29 14:07:01 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Iniciando validación de datos de entrada - Job: 2251799813807711
2025-10-29 14:07:01 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - 🔍 Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-10-29 14:07:01 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Datos de entrada válidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 14:07:01 [pool-2-thread-1] WARN  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ⚠️ Se encontraron 1 advertencias
2025-10-29 14:07:01 [pool-2-thread-1] WARN  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ⚠️ El viaje tiene una duración de solo 1 día
2025-10-29 14:07:20 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🚀 Iniciando worker obtener-datos-cliente - Job Key: 2251799813807813
2025-10-29 14:07:20 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Variables recibidas: {reservaId=2071c0d9-b4c8-11f0-ac6e-9676306ea2fe, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Madrid, advertencias=[El viaje tiene una duración de solo 1 día], telefonoContacto=+34600123456, fechaFin=2025-12-11, datosValidos=true}
2025-10-29 14:07:20 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ✅ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 14:07:20 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 14:07:20 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 14:07:20 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 14:07:20 [pool-2-thread-1] WARN  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ⚠️ Cliente no encontrado en el sistema: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 14:07:20 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 📤 Respuesta preparada: clienteObtenido=false
2025-10-29 14:12:33 [http-nio-9080-exec-6] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-29 14:12:33 [http-nio-9080-exec-6] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-29 14:12:33 [http-nio-9080-exec-6] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-29 14:45:04 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-10-29 14:45:04 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-10-29 14:45:09 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-29 14:45:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Shutdown initiated...
2025-10-29 14:45:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Shutdown completed.
2025-10-29 14:45:30 [main] INFO  d.j.r.c.ServicioClientesApplication - Starting ServicioClientesApplication using Java 21.0.7 with PID 31683 (/home/vicente/IdeaProjects/sistema-reservas-viaje/servicio-clientes/target/classes started by vicente in /home/vicente/IdeaProjects/sistema-reservas-viaje/servicio-clientes)
2025-10-29 14:45:30 [main] DEBUG d.j.r.c.ServicioClientesApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-29 14:45:30 [main] INFO  d.j.r.c.ServicioClientesApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-29 14:45:30 [main] WARN  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Legacy property 'camunda.client.zeebe.grpc-address' found, setting to 'camunda.client.grpc-address'. Please update your setup to use the latest property
2025-10-29 14:45:30 [main] WARN  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Legacy property 'camunda.client.zeebe.rest-address' found, setting to 'camunda.client.rest-address'. Please update your setup to use the latest property
2025-10-29 14:45:30 [main] INFO  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Implicit 'camunda.client.auth.method'='basic' detected due to '[camunda.client.auth.username, camunda.client.auth.password]' being set.
2025-10-29 14:45:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-29 14:45:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 1 JPA repository interface.
2025-10-29 14:45:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9080 (http)
2025-10-29 14:45:31 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-29 14:45:31 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-29 14:45:31 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-29 14:45:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 893 ms
2025-10-29 14:45:31 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-29 14:45:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Starting...
2025-10-29 14:45:31 [main] INFO  com.zaxxer.hikari.pool.HikariPool - ClienteHikariPool - Added connection conn0: url=jdbc:h2:mem:cliente_db user=SA
2025-10-29 14:45:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Start completed.
2025-10-29 14:45:31 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-29 14:45:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-29 14:45:32 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-29 14:45:33 [main] INFO  i.c.c.m.MicrometerMetricsRecorder - Enabling Micrometer based metrics for camunda-client (available via Actuator)
2025-10-29 14:45:33 [main] INFO  i.c.z.s.c.c.ZeebeClientProdAutoConfiguration - Creating zeebeClient using zeebeClientConfiguration [io.camunda.zeebe.spring.client.configuration.ZeebeClientConfigurationImpl@4a270796]
2025-10-29 14:45:33 [main] WARN  i.c.z.client.impl.ZeebeClientImpl - ZeebeClient is deprecated and will be removed in version 8.10. Please migrate to io.camunda.client.CamundaClient.
2025-10-29 14:45:33 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:cliente_db'
2025-10-29 14:45:33 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-10-29 14:45:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9080 (http) with context path '/'
2025-10-29 14:45:33 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'activarClienteWorker': [JobWorkerValue{type='activar-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@453e8239, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 14:45:33 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'actualizarEstadoClienteWorker': [JobWorkerValue{type='actualizar-estado-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@2f9404a7, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 14:45:33 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 2 Job worker(s) of bean 'actualizarInformacionTarjetaWorker': [JobWorkerValue{type='actualizar-informacion-tarjeta', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@65747311, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}, JobWorkerValue{type='actualizar-informacion-tarjeta', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6ddbb0e8, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 14:45:33 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'actualizarRegistroClienteWorker': [JobWorkerValue{type='actualizar-registro-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@5770b59f, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 14:45:33 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'confirmarReservaWorker': [JobWorkerValue{type='confirmar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@46ae8bf7, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 14:45:33 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'crearClienteWorker': [JobWorkerValue{type='crear-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4b3a6383, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 14:45:33 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'finalizarReservaWorker': [JobWorkerValue{type='finalizar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1ecb3cde, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 14:45:33 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'iniciarReservaWorker': [JobWorkerValue{type='iniciar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@35c9e3b9, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 14:45:33 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'notificarReservaFallidaWorker': [JobWorkerValue{type='notificar-reserva-fallida', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@29a3de3a, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 14:45:33 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'notificarTarjetaInvalidaWorker': [JobWorkerValue{type='notificar-tarjeta-invalida', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@23184551, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 14:45:33 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'obtenerDatosClienteWorker': [JobWorkerValue{type='obtener-datos-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@601bbbb6, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 14:45:33 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarClienteWorker': [JobWorkerValue{type='validar-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@2d23561e, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 14:45:33 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarDatosEntradaWorker': [JobWorkerValue{type='validar-datos-entrada', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@5698eeb0, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 14:45:33 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarTarjetaCreditoWorker': [JobWorkerValue{type='validar-tarjeta-credito', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@445eb192, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='activar-cliente', name='activarClienteWorker#manejarActivarCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@453e8239, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-estado-cliente', name='actualizarEstadoClienteWorker#actualizarEstado', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@2f9404a7, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 14:45:33 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 14:45:33 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 14:45:33 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 14:45:33 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 14:45:33 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-informacion-tarjeta', name='actualizarInformacionTarjetaWorker#actualizarInformacionTarjeta', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@65747311, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-informacion-tarjeta', name='actualizarInformacionTarjetaWorker#actualizarInformacionTarjeta', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6ddbb0e8, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-registro-cliente', name='actualizarRegistroClienteWorker#manejarActualizarRegistroCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@5770b59f, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='confirmar-reserva-cliente', name='confirmarReservaWorker#manejarConfirmarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@46ae8bf7, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='crear-cliente', name='crearClienteWorker#manejarCrearCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4b3a6383, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='finalizar-reserva-cliente', name='finalizarReservaWorker#manejarFinalizarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1ecb3cde, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='iniciar-reserva-cliente', name='iniciarReservaWorker#manejarIniciarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@35c9e3b9, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='notificar-reserva-fallida', name='notificarReservaFallidaWorker#notificarReservaFallida', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@29a3de3a, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='notificar-tarjeta-invalida', name='notificarTarjetaInvalidaWorker#notificarTarjetaInvalida', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@23184551, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='obtener-datos-cliente', name='obtenerDatosClienteWorker#manejarObtenerDatosCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@601bbbb6, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-cliente', name='validarClienteWorker#manejarValidarCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@2d23561e, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-datos-entrada', name='validarDatosEntradaWorker#validarDatosEntrada', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@5698eeb0, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-tarjeta-credito', name='validarTarjetaCreditoWorker#manejarValidarTarjetaCredito', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@445eb192, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 14:45:33 [main] INFO  d.j.r.c.ServicioClientesApplication - Started ServicioClientesApplication in 3.482 seconds (process running for 3.69)
2025-10-29 14:45:33 [main] INFO  d.j.r.c.ServicioClientesApplication - 
2025-10-29 14:45:33 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 14:45:33 [main] INFO  d.j.r.c.ServicioClientesApplication - 👤 Servicio de Clientes INICIADO
2025-10-29 14:45:33 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 14:45:33 [main] INFO  d.j.r.c.ServicioClientesApplication - 📊 Puerto: 9080
2025-10-29 14:45:33 [main] INFO  d.j.r.c.ServicioClientesApplication - 📖 Swagger UI: http://localhost:9080/swagger-ui.html
2025-10-29 14:45:33 [main] INFO  d.j.r.c.ServicioClientesApplication - 🔍 H2 Console: http://localhost:9080/h2-console
2025-10-29 14:45:33 [main] INFO  d.j.r.c.ServicioClientesApplication - 💚 Health: http://localhost:9080/actuator/health
2025-10-29 14:45:33 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 14:45:33 [main] INFO  d.j.r.c.ServicioClientesApplication - 
2025-10-29 14:55:30 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Iniciando validación de datos de entrada - Job: 2251799813814752
2025-10-29 14:55:30 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - 🔍 Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-10-29 14:55:30 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Datos de entrada válidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 14:56:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🚀 Iniciando worker obtener-datos-cliente - Job Key: 2251799813814849
2025-10-29 14:56:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Variables recibidas: {reservaId=e48a323a-b4ce-11f0-ac6e-9676306ea2fe, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-10-29 14:56:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ✅ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 14:56:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 14:56:00 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 14:56:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 14:56:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 14:56:00 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ❌ Error de validación al obtener datos del cliente: El ID de la tarjeta debe ser un UUID válido: t1000001-0000-0000-0000-000000000001
2025-10-29 15:07:52 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Iniciando validación de datos de entrada - Job: 2251799813816686
2025-10-29 15:07:52 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - 🔍 Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-10-29 15:07:52 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Datos de entrada válidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:08:21 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🚀 Iniciando worker obtener-datos-cliente - Job Key: 2251799813816766
2025-10-29 15:08:21 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Variables recibidas: {reservaId=a4d1699b-b4d0-11f0-ac6e-9676306ea2fe, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-10-29 15:08:21 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ✅ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:08:21 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:08:21 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:08:21 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:08:21 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:08:21 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ❌ Error de validación al obtener datos del cliente: El ID de la tarjeta debe ser un UUID válido: t1000001-0000-0000-0000-000000000001
2025-10-29 15:15:38 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-10-29 15:15:38 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-10-29 15:15:40 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-29 15:15:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Shutdown initiated...
2025-10-29 15:15:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Shutdown completed.
2025-10-29 15:19:00 [main] INFO  d.j.r.c.ServicioClientesApplication - Starting ServicioClientesApplication using Java 21.0.7 with PID 40861 (/home/vicente/IdeaProjects/sistema-reservas-viaje/servicio-clientes/target/classes started by vicente in /home/vicente/IdeaProjects/sistema-reservas-viaje/servicio-clientes)
2025-10-29 15:19:00 [main] DEBUG d.j.r.c.ServicioClientesApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-29 15:19:00 [main] INFO  d.j.r.c.ServicioClientesApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-29 15:19:00 [main] WARN  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Legacy property 'camunda.client.zeebe.grpc-address' found, setting to 'camunda.client.grpc-address'. Please update your setup to use the latest property
2025-10-29 15:19:00 [main] WARN  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Legacy property 'camunda.client.zeebe.rest-address' found, setting to 'camunda.client.rest-address'. Please update your setup to use the latest property
2025-10-29 15:19:00 [main] INFO  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Implicit 'camunda.client.auth.method'='basic' detected due to '[camunda.client.auth.username, camunda.client.auth.password]' being set.
2025-10-29 15:19:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-29 15:19:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 1 JPA repository interface.
2025-10-29 15:19:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9080 (http)
2025-10-29 15:19:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-29 15:19:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-29 15:19:01 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-29 15:19:01 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 902 ms
2025-10-29 15:19:02 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-29 15:19:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Starting...
2025-10-29 15:19:02 [main] INFO  com.zaxxer.hikari.pool.HikariPool - ClienteHikariPool - Added connection conn0: url=jdbc:h2:mem:cliente_db user=SA
2025-10-29 15:19:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Start completed.
2025-10-29 15:19:02 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-29 15:19:02 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-29 15:19:02 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-29 15:19:03 [main] INFO  i.c.c.m.MicrometerMetricsRecorder - Enabling Micrometer based metrics for camunda-client (available via Actuator)
2025-10-29 15:19:03 [main] INFO  i.c.z.s.c.c.ZeebeClientProdAutoConfiguration - Creating zeebeClient using zeebeClientConfiguration [io.camunda.zeebe.spring.client.configuration.ZeebeClientConfigurationImpl@5e5af20c]
2025-10-29 15:19:03 [main] WARN  i.c.z.client.impl.ZeebeClientImpl - ZeebeClient is deprecated and will be removed in version 8.10. Please migrate to io.camunda.client.CamundaClient.
2025-10-29 15:19:03 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:cliente_db'
2025-10-29 15:19:03 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-10-29 15:19:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9080 (http) with context path '/'
2025-10-29 15:19:03 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'activarClienteWorker': [JobWorkerValue{type='activar-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1b67ea5f, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:19:03 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'actualizarEstadoClienteWorker': [JobWorkerValue{type='actualizar-estado-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@3d225fe9, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:19:03 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 2 Job worker(s) of bean 'actualizarInformacionTarjetaWorker': [JobWorkerValue{type='actualizar-informacion-tarjeta', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4b4eac80, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}, JobWorkerValue{type='actualizar-informacion-tarjeta', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4dc0c152, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:19:03 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'actualizarRegistroClienteWorker': [JobWorkerValue{type='actualizar-registro-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1e7a20d5, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:19:03 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'confirmarReservaWorker': [JobWorkerValue{type='confirmar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@705ba09a, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:19:03 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'crearClienteWorker': [JobWorkerValue{type='crear-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4fbc7da0, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:19:03 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'finalizarReservaWorker': [JobWorkerValue{type='finalizar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@7da1bf14, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:19:03 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'iniciarReservaWorker': [JobWorkerValue{type='iniciar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@62418263, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:19:03 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'notificarReservaFallidaWorker': [JobWorkerValue{type='notificar-reserva-fallida', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@5521f423, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:19:03 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'notificarTarjetaInvalidaWorker': [JobWorkerValue{type='notificar-tarjeta-invalida', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@9fcca41, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:19:03 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'obtenerDatosClienteWorker': [JobWorkerValue{type='obtener-datos-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@3ea4cfe0, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:19:03 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarClienteWorker': [JobWorkerValue{type='validar-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6db27836, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:19:03 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarDatosEntradaWorker': [JobWorkerValue{type='validar-datos-entrada', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6a8129d1, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:19:03 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarTarjetaCreditoWorker': [JobWorkerValue{type='validar-tarjeta-credito', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@41743ff4, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='activar-cliente', name='activarClienteWorker#manejarActivarCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1b67ea5f, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-estado-cliente', name='actualizarEstadoClienteWorker#actualizarEstado', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@3d225fe9, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 15:19:03 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 15:19:03 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 15:19:03 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 15:19:03 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 15:19:03 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-informacion-tarjeta', name='actualizarInformacionTarjetaWorker#actualizarInformacionTarjeta', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4b4eac80, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-informacion-tarjeta', name='actualizarInformacionTarjetaWorker#actualizarInformacionTarjeta', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4dc0c152, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-registro-cliente', name='actualizarRegistroClienteWorker#manejarActualizarRegistroCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1e7a20d5, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='confirmar-reserva-cliente', name='confirmarReservaWorker#manejarConfirmarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@705ba09a, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='crear-cliente', name='crearClienteWorker#manejarCrearCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4fbc7da0, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='finalizar-reserva-cliente', name='finalizarReservaWorker#manejarFinalizarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@7da1bf14, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='iniciar-reserva-cliente', name='iniciarReservaWorker#manejarIniciarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@62418263, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='notificar-reserva-fallida', name='notificarReservaFallidaWorker#notificarReservaFallida', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@5521f423, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='notificar-tarjeta-invalida', name='notificarTarjetaInvalidaWorker#notificarTarjetaInvalida', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@9fcca41, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='obtener-datos-cliente', name='obtenerDatosClienteWorker#manejarObtenerDatosCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@3ea4cfe0, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-cliente', name='validarClienteWorker#manejarValidarCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6db27836, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-datos-entrada', name='validarDatosEntradaWorker#validarDatosEntrada', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6a8129d1, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-tarjeta-credito', name='validarTarjetaCreditoWorker#manejarValidarTarjetaCredito', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@41743ff4, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:19:03 [main] INFO  d.j.r.c.ServicioClientesApplication - Started ServicioClientesApplication in 3.468 seconds (process running for 3.668)
2025-10-29 15:19:03 [main] INFO  d.j.r.c.ServicioClientesApplication - 
2025-10-29 15:19:03 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 15:19:03 [main] INFO  d.j.r.c.ServicioClientesApplication - 👤 Servicio de Clientes INICIADO
2025-10-29 15:19:03 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 15:19:03 [main] INFO  d.j.r.c.ServicioClientesApplication - 📊 Puerto: 9080
2025-10-29 15:19:03 [main] INFO  d.j.r.c.ServicioClientesApplication - 📖 Swagger UI: http://localhost:9080/swagger-ui.html
2025-10-29 15:19:03 [main] INFO  d.j.r.c.ServicioClientesApplication - 🔍 H2 Console: http://localhost:9080/h2-console
2025-10-29 15:19:03 [main] INFO  d.j.r.c.ServicioClientesApplication - 💚 Health: http://localhost:9080/actuator/health
2025-10-29 15:19:03 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 15:19:03 [main] INFO  d.j.r.c.ServicioClientesApplication - 
2025-10-29 15:21:03 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Iniciando validación de datos de entrada - Job: 2251799813818587
2025-10-29 15:21:03 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - 🔍 Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-10-29 15:21:03 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Datos de entrada válidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:21:26 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🚀 Iniciando worker obtener-datos-cliente - Job Key: 2251799813818661
2025-10-29 15:21:26 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Variables recibidas: {reservaId=8043208c-b4d2-11f0-ac6e-9676306ea2fe, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-10-29 15:21:26 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ✅ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:21:26 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:21:26 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:21:26 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:21:26 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:21:26 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ❌ Error de validación al obtener datos del cliente: El valor encriptado no es válido: Illegal base64 character 5f
2025-10-29 15:25:55 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-10-29 15:25:55 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-10-29 15:25:59 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-29 15:25:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Shutdown initiated...
2025-10-29 15:25:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Shutdown completed.
2025-10-29 15:28:48 [main] INFO  d.j.r.c.ServicioClientesApplication - Starting ServicioClientesApplication using Java 21.0.7 with PID 43705 (/home/vicente/IdeaProjects/sistema-reservas-viaje/servicio-clientes/target/classes started by vicente in /home/vicente/IdeaProjects/sistema-reservas-viaje/servicio-clientes)
2025-10-29 15:28:48 [main] DEBUG d.j.r.c.ServicioClientesApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-29 15:28:48 [main] INFO  d.j.r.c.ServicioClientesApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-29 15:28:48 [main] WARN  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Legacy property 'camunda.client.zeebe.grpc-address' found, setting to 'camunda.client.grpc-address'. Please update your setup to use the latest property
2025-10-29 15:28:48 [main] WARN  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Legacy property 'camunda.client.zeebe.rest-address' found, setting to 'camunda.client.rest-address'. Please update your setup to use the latest property
2025-10-29 15:28:48 [main] INFO  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Implicit 'camunda.client.auth.method'='basic' detected due to '[camunda.client.auth.username, camunda.client.auth.password]' being set.
2025-10-29 15:28:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-29 15:28:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interface.
2025-10-29 15:28:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9080 (http)
2025-10-29 15:28:49 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-29 15:28:49 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-29 15:28:49 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-29 15:28:49 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 956 ms
2025-10-29 15:28:50 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-29 15:28:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Starting...
2025-10-29 15:28:50 [main] INFO  com.zaxxer.hikari.pool.HikariPool - ClienteHikariPool - Added connection conn0: url=jdbc:h2:mem:cliente_db user=SA
2025-10-29 15:28:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Start completed.
2025-10-29 15:28:50 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-29 15:28:50 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-29 15:28:50 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-29 15:28:51 [main] INFO  i.c.c.m.MicrometerMetricsRecorder - Enabling Micrometer based metrics for camunda-client (available via Actuator)
2025-10-29 15:28:51 [main] INFO  i.c.z.s.c.c.ZeebeClientProdAutoConfiguration - Creating zeebeClient using zeebeClientConfiguration [io.camunda.zeebe.spring.client.configuration.ZeebeClientConfigurationImpl@9b8d3db]
2025-10-29 15:28:51 [main] WARN  i.c.z.client.impl.ZeebeClientImpl - ZeebeClient is deprecated and will be removed in version 8.10. Please migrate to io.camunda.client.CamundaClient.
2025-10-29 15:28:51 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:cliente_db'
2025-10-29 15:28:51 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-10-29 15:28:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9080 (http) with context path '/'
2025-10-29 15:28:52 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'activarClienteWorker': [JobWorkerValue{type='activar-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@510e260d, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:28:52 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'actualizarEstadoClienteWorker': [JobWorkerValue{type='actualizar-estado-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@3328d00b, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:28:52 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 2 Job worker(s) of bean 'actualizarInformacionTarjetaWorker': [JobWorkerValue{type='actualizar-informacion-tarjeta', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4021732, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}, JobWorkerValue{type='actualizar-informacion-tarjeta', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1aa118f3, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:28:52 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'actualizarRegistroClienteWorker': [JobWorkerValue{type='actualizar-registro-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@5f0a452d, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:28:52 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'confirmarReservaWorker': [JobWorkerValue{type='confirmar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@777a2b88, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:28:52 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'crearClienteWorker': [JobWorkerValue{type='crear-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6998743e, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:28:52 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'finalizarReservaWorker': [JobWorkerValue{type='finalizar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@2203fa4c, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:28:52 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'iniciarReservaWorker': [JobWorkerValue{type='iniciar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4913778f, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:28:52 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'notificarReservaFallidaWorker': [JobWorkerValue{type='notificar-reserva-fallida', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@14cc127b, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:28:52 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'notificarTarjetaInvalidaWorker': [JobWorkerValue{type='notificar-tarjeta-invalida', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6a5a00b3, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:28:52 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'obtenerDatosClienteWorker': [JobWorkerValue{type='obtener-datos-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@2d0584c0, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:28:52 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarClienteWorker': [JobWorkerValue{type='validar-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4d3d33b6, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:28:52 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarDatosEntradaWorker': [JobWorkerValue{type='validar-datos-entrada', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4236a610, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:28:52 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarTarjetaCreditoWorker': [JobWorkerValue{type='validar-tarjeta-credito', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@7625ce5a, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='activar-cliente', name='activarClienteWorker#manejarActivarCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@510e260d, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-estado-cliente', name='actualizarEstadoClienteWorker#actualizarEstado', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@3328d00b, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 15:28:52 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 15:28:52 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 15:28:52 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 15:28:52 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 15:28:52 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-informacion-tarjeta', name='actualizarInformacionTarjetaWorker#actualizarInformacionTarjeta', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4021732, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-informacion-tarjeta', name='actualizarInformacionTarjetaWorker#actualizarInformacionTarjeta', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1aa118f3, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-registro-cliente', name='actualizarRegistroClienteWorker#manejarActualizarRegistroCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@5f0a452d, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='confirmar-reserva-cliente', name='confirmarReservaWorker#manejarConfirmarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@777a2b88, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='crear-cliente', name='crearClienteWorker#manejarCrearCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6998743e, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='finalizar-reserva-cliente', name='finalizarReservaWorker#manejarFinalizarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@2203fa4c, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='iniciar-reserva-cliente', name='iniciarReservaWorker#manejarIniciarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4913778f, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='notificar-reserva-fallida', name='notificarReservaFallidaWorker#notificarReservaFallida', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@14cc127b, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='notificar-tarjeta-invalida', name='notificarTarjetaInvalidaWorker#notificarTarjetaInvalida', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6a5a00b3, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='obtener-datos-cliente', name='obtenerDatosClienteWorker#manejarObtenerDatosCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@2d0584c0, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-cliente', name='validarClienteWorker#manejarValidarCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4d3d33b6, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-datos-entrada', name='validarDatosEntradaWorker#validarDatosEntrada', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4236a610, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-tarjeta-credito', name='validarTarjetaCreditoWorker#manejarValidarTarjetaCredito', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@7625ce5a, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 15:28:52 [main] INFO  d.j.r.c.ServicioClientesApplication - Started ServicioClientesApplication in 3.736 seconds (process running for 3.927)
2025-10-29 15:28:52 [main] INFO  d.j.r.c.ServicioClientesApplication - 
2025-10-29 15:28:52 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 15:28:52 [main] INFO  d.j.r.c.ServicioClientesApplication - 👤 Servicio de Clientes INICIADO
2025-10-29 15:28:52 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 15:28:52 [main] INFO  d.j.r.c.ServicioClientesApplication - 📊 Puerto: 9080
2025-10-29 15:28:52 [main] INFO  d.j.r.c.ServicioClientesApplication - 📖 Swagger UI: http://localhost:9080/swagger-ui.html
2025-10-29 15:28:52 [main] INFO  d.j.r.c.ServicioClientesApplication - 🔍 H2 Console: http://localhost:9080/h2-console
2025-10-29 15:28:52 [main] INFO  d.j.r.c.ServicioClientesApplication - 💚 Health: http://localhost:9080/actuator/health
2025-10-29 15:28:52 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 15:28:52 [main] INFO  d.j.r.c.ServicioClientesApplication - 
2025-10-29 15:29:43 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Iniciando validación de datos de entrada - Job: 2251799813819775
2025-10-29 15:29:43 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - 🔍 Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-10-29 15:29:43 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Datos de entrada válidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:30:13 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🚀 Iniciando worker obtener-datos-cliente - Job Key: 2251799813819844
2025-10-29 15:30:13 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Variables recibidas: {reservaId=b18cf75d-b4d3-11f0-ac6e-9676306ea2fe, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-10-29 15:30:13 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ✅ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:30:13 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:30:13 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:30:13 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:30:13 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:30:13 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: ACTIVO - Email: .com
2025-10-29 15:30:13 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ✅ Output construido con 13 variables
2025-10-29 15:30:13 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 📤 Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-10-29 15:30:44 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 🚀 Iniciando worker validar-tarjeta-credito - Job Key: 2251799813819935
2025-10-29 15:30:44 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 🔍 Variables recibidas: {reservaId=b18cf75d-b4d3-11f0-ac6e-9676306ea2fe, emailCliente=.com, paisCliente=paña, estadoCliente=ACTIVO, numeroPasajeros=2, ciudadCliente=drid, emailContacto=cliente@example.com, telefonoCliente=3456, estaBloqueado=false, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-10-29 15:30:44 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ⚠️ No se proporcionó montoReserva, usando monto por defecto para validación
2025-10-29 15:30:44 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 💳 Validando tarjeta de crédito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:30:44 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:30:44 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:30:44 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:30:44 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Cliente tiene 1 tarjeta(s) registrada(s)
2025-10-29 15:30:44 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 🔍 Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - Últimos 4 dígitos: 0366
2025-10-29 15:30:44 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Fecha de expiración válida: 12/2027
2025-10-29 15:30:44 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 🔐 Simulando validación con pasarela de pago - Monto: 1000.0€
2025-10-29 15:30:44 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Pasarela de pago: Transacción APROBADA - Código: 623DAC
2025-10-29 15:30:44 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Tarjeta validada correctamente - Código autorización: 623DAC
2025-10-29 15:30:44 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Output construido con 7 variables
2025-10-29 15:30:44 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 📤 Validación completada exitosamente
2025-10-29 15:31:14 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - 🔄 Iniciando actualización de estado de cliente - Job: 2251799813820025
2025-10-29 15:31:14 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - 🔍 Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 → Estado nuevo: EN_PROCESO_RESERVA - Reserva: b18cf75d-b4d3-11f0-ac6e-9676306ea2fe
2025-10-29 15:31:14 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 🔍 Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:31:14 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:31:14 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:31:14 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 📊 Estado del cliente 123e4567-e89b-12d3-a456-426655440000: ACTIVO
2025-10-29 15:31:14 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - 🚀 Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: b18cf75d-b4d3-11f0-ac6e-9676306ea2fe
2025-10-29 15:31:14 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:31:14 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:31:14 [pool-2-thread-1] DEBUG d.j.r.c.d.modelo.agregado.Cliente - 🔍 Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: b18cf75d-b4d3-11f0-ac6e-9676306ea2fe
2025-10-29 15:31:14 [pool-2-thread-1] INFO  d.j.r.c.d.modelo.agregado.Cliente - 🚀 Proceso de reserva iniciado para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: b18cf75d-b4d3-11f0-ac6e-9676306ea2fe
2025-10-29 15:31:14 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 💾 Guardando cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:31:14 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔄 Actualizando cliente existente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:31:14 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔄 Actualizando datos de entidad existente
2025-10-29 15:31:14 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔄 Sincronizando tarjetas del cliente
2025-10-29 15:31:14 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Tarjetas sincronizadas: 1 tarjetas
2025-10-29 15:31:14 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente guardado exitosamente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 15:31:14 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ❌ Datos de entrada inválidos: El valor encriptado no es válido: Illegal base64 character 2a
2025-10-29 16:01:09 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-10-29 16:01:09 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-10-29 16:01:14 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-29 16:01:14 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Shutdown initiated...
2025-10-29 16:01:14 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Shutdown completed.
2025-10-29 16:01:36 [main] INFO  d.j.r.c.ServicioClientesApplication - Starting ServicioClientesApplication using Java 21.0.7 with PID 52253 (/home/vicente/IdeaProjects/sistema-reservas-viaje/servicio-clientes/target/classes started by vicente in /home/vicente/IdeaProjects/sistema-reservas-viaje/servicio-clientes)
2025-10-29 16:01:36 [main] DEBUG d.j.r.c.ServicioClientesApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-29 16:01:36 [main] INFO  d.j.r.c.ServicioClientesApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-29 16:01:36 [main] WARN  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Legacy property 'camunda.client.zeebe.grpc-address' found, setting to 'camunda.client.grpc-address'. Please update your setup to use the latest property
2025-10-29 16:01:36 [main] WARN  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Legacy property 'camunda.client.zeebe.rest-address' found, setting to 'camunda.client.rest-address'. Please update your setup to use the latest property
2025-10-29 16:01:36 [main] INFO  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Implicit 'camunda.client.auth.method'='basic' detected due to '[camunda.client.auth.username, camunda.client.auth.password]' being set.
2025-10-29 16:01:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-29 16:01:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 1 JPA repository interface.
2025-10-29 16:01:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9080 (http)
2025-10-29 16:01:37 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-29 16:01:37 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-29 16:01:37 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-29 16:01:37 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 877 ms
2025-10-29 16:01:37 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-29 16:01:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Starting...
2025-10-29 16:01:37 [main] INFO  com.zaxxer.hikari.pool.HikariPool - ClienteHikariPool - Added connection conn0: url=jdbc:h2:mem:cliente_db user=SA
2025-10-29 16:01:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Start completed.
2025-10-29 16:01:37 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-29 16:01:38 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-29 16:01:38 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-29 16:01:38 [main] INFO  i.c.c.m.MicrometerMetricsRecorder - Enabling Micrometer based metrics for camunda-client (available via Actuator)
2025-10-29 16:01:39 [main] INFO  i.c.z.s.c.c.ZeebeClientProdAutoConfiguration - Creating zeebeClient using zeebeClientConfiguration [io.camunda.zeebe.spring.client.configuration.ZeebeClientConfigurationImpl@57dcdc14]
2025-10-29 16:01:39 [main] WARN  i.c.z.client.impl.ZeebeClientImpl - ZeebeClient is deprecated and will be removed in version 8.10. Please migrate to io.camunda.client.CamundaClient.
2025-10-29 16:01:39 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:cliente_db'
2025-10-29 16:01:39 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-10-29 16:01:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9080 (http) with context path '/'
2025-10-29 16:01:39 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'activarClienteWorker': [JobWorkerValue{type='activar-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@66e33cea, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 16:01:39 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'actualizarEstadoClienteWorker': [JobWorkerValue{type='actualizar-estado-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@723c7f2f, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 16:01:39 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 2 Job worker(s) of bean 'actualizarInformacionTarjetaWorker': [JobWorkerValue{type='actualizar-informacion-tarjeta', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@5ed921c9, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}, JobWorkerValue{type='actualizar-informacion-tarjeta', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@21080d55, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 16:01:39 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'actualizarRegistroClienteWorker': [JobWorkerValue{type='actualizar-registro-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@5dfb0e1e, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 16:01:39 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'confirmarReservaWorker': [JobWorkerValue{type='confirmar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@31ec9703, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 16:01:39 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'crearClienteWorker': [JobWorkerValue{type='crear-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@7ec16640, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 16:01:39 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'finalizarReservaWorker': [JobWorkerValue{type='finalizar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@444d2bb6, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 16:01:39 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'iniciarReservaWorker': [JobWorkerValue{type='iniciar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@3f31ff7a, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 16:01:39 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'notificarReservaFallidaWorker': [JobWorkerValue{type='notificar-reserva-fallida', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4624ad36, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 16:01:39 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'notificarTarjetaInvalidaWorker': [JobWorkerValue{type='notificar-tarjeta-invalida', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@785a632, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 16:01:39 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'obtenerDatosClienteWorker': [JobWorkerValue{type='obtener-datos-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@61a2d9ee, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 16:01:39 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarClienteWorker': [JobWorkerValue{type='validar-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1c37b2b, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 16:01:39 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarDatosEntradaWorker': [JobWorkerValue{type='validar-datos-entrada', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6553527e, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 16:01:39 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarTarjetaCreditoWorker': [JobWorkerValue{type='validar-tarjeta-credito', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@71a65c31, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='activar-cliente', name='activarClienteWorker#manejarActivarCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@66e33cea, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-estado-cliente', name='actualizarEstadoClienteWorker#actualizarEstado', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@723c7f2f, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 16:01:39 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 16:01:39 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 16:01:39 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 16:01:39 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 16:01:39 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-informacion-tarjeta', name='actualizarInformacionTarjetaWorker#actualizarInformacionTarjeta', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@5ed921c9, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-informacion-tarjeta', name='actualizarInformacionTarjetaWorker#actualizarInformacionTarjeta', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@21080d55, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-registro-cliente', name='actualizarRegistroClienteWorker#manejarActualizarRegistroCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@5dfb0e1e, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='confirmar-reserva-cliente', name='confirmarReservaWorker#manejarConfirmarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@31ec9703, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='crear-cliente', name='crearClienteWorker#manejarCrearCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@7ec16640, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='finalizar-reserva-cliente', name='finalizarReservaWorker#manejarFinalizarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@444d2bb6, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='iniciar-reserva-cliente', name='iniciarReservaWorker#manejarIniciarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@3f31ff7a, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='notificar-reserva-fallida', name='notificarReservaFallidaWorker#notificarReservaFallida', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4624ad36, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='notificar-tarjeta-invalida', name='notificarTarjetaInvalidaWorker#notificarTarjetaInvalida', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@785a632, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='obtener-datos-cliente', name='obtenerDatosClienteWorker#manejarObtenerDatosCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@61a2d9ee, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-cliente', name='validarClienteWorker#manejarValidarCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1c37b2b, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-datos-entrada', name='validarDatosEntradaWorker#validarDatosEntrada', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6553527e, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-tarjeta-credito', name='validarTarjetaCreditoWorker#manejarValidarTarjetaCredito', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@71a65c31, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 16:01:39 [main] INFO  d.j.r.c.ServicioClientesApplication - Started ServicioClientesApplication in 3.437 seconds (process running for 3.623)
2025-10-29 16:01:39 [main] INFO  d.j.r.c.ServicioClientesApplication - 
2025-10-29 16:01:39 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 16:01:39 [main] INFO  d.j.r.c.ServicioClientesApplication - 👤 Servicio de Clientes INICIADO
2025-10-29 16:01:39 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 16:01:39 [main] INFO  d.j.r.c.ServicioClientesApplication - 📊 Puerto: 9080
2025-10-29 16:01:39 [main] INFO  d.j.r.c.ServicioClientesApplication - 📖 Swagger UI: http://localhost:9080/swagger-ui.html
2025-10-29 16:01:39 [main] INFO  d.j.r.c.ServicioClientesApplication - 🔍 H2 Console: http://localhost:9080/h2-console
2025-10-29 16:01:39 [main] INFO  d.j.r.c.ServicioClientesApplication - 💚 Health: http://localhost:9080/actuator/health
2025-10-29 16:01:39 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 16:01:39 [main] INFO  d.j.r.c.ServicioClientesApplication - 
2025-10-29 16:02:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Iniciando validación de datos de entrada - Job: 2251799813824448
2025-10-29 16:02:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - 🔍 Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-10-29 16:02:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Datos de entrada válidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:02:30 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🚀 Iniciando worker obtener-datos-cliente - Job Key: 2251799813824531
2025-10-29 16:02:30 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Variables recibidas: {reservaId=301196ee-b4d8-11f0-ac6e-9676306ea2fe, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-10-29 16:02:30 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ✅ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:02:30 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:02:30 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:02:30 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:02:30 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:02:30 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: ACTIVO - Email: .com
2025-10-29 16:02:30 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ✅ Output construido con 13 variables
2025-10-29 16:02:30 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 DEBUG - Ciudad del cliente: 'drid'
2025-10-29 16:02:30 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 DEBUG - Output completo: {emailCliente=.com, estadoCliente=ACTIVO, paisCliente=paña, ciudadCliente=drid, telefonoCliente=3456, estaBloqueado=false, nombreCompleto=null, dniCliente=null, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, tieneTarjetasValidas=true, clienteObtenido=true, puedeRealizarPagos=true}
2025-10-29 16:02:30 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 📤 Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-10-29 16:03:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 🚀 Iniciando worker validar-tarjeta-credito - Job Key: 2251799813824623
2025-10-29 16:03:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 🔍 Variables recibidas: {reservaId=301196ee-b4d8-11f0-ac6e-9676306ea2fe, emailCliente=.com, paisCliente=paña, estadoCliente=ACTIVO, numeroPasajeros=2, ciudadCliente=drid, emailContacto=cliente@example.com, telefonoCliente=3456, estaBloqueado=false, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-10-29 16:03:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ⚠️ No se proporcionó montoReserva, usando monto por defecto para validación
2025-10-29 16:03:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 💳 Validando tarjeta de crédito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:03:00 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:03:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:03:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:03:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Cliente tiene 1 tarjeta(s) registrada(s)
2025-10-29 16:03:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 🔍 Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - Últimos 4 dígitos: 0366
2025-10-29 16:03:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Fecha de expiración válida: 12/2027
2025-10-29 16:03:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 🔐 Simulando validación con pasarela de pago - Monto: 1000.0€
2025-10-29 16:03:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Pasarela de pago: Transacción APROBADA - Código: 323E94
2025-10-29 16:03:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Tarjeta validada correctamente - Código autorización: 323E94
2025-10-29 16:03:00 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Output construido con 7 variables
2025-10-29 16:03:00 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 📤 Validación completada exitosamente
2025-10-29 16:03:32 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - 🔄 Iniciando actualización de estado de cliente - Job: 2251799813824711
2025-10-29 16:03:32 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - 🔍 Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 → Estado nuevo: EN_PROCESO_RESERVA - Reserva: 301196ee-b4d8-11f0-ac6e-9676306ea2fe
2025-10-29 16:03:32 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 🔍 Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:03:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:03:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:03:32 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 📊 Estado del cliente 123e4567-e89b-12d3-a456-426655440000: ACTIVO
2025-10-29 16:03:32 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - 🚀 Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 301196ee-b4d8-11f0-ac6e-9676306ea2fe
2025-10-29 16:03:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:03:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:03:32 [pool-2-thread-1] DEBUG d.j.r.c.d.modelo.agregado.Cliente - 🔍 Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 301196ee-b4d8-11f0-ac6e-9676306ea2fe
2025-10-29 16:03:32 [pool-2-thread-1] INFO  d.j.r.c.d.modelo.agregado.Cliente - 🚀 Proceso de reserva iniciado para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: 301196ee-b4d8-11f0-ac6e-9676306ea2fe
2025-10-29 16:03:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 💾 Guardando cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:03:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔄 Actualizando cliente existente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:03:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔄 Actualizando datos de entidad existente
2025-10-29 16:03:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔄 Sincronizando tarjetas del cliente
2025-10-29 16:03:32 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Tarjetas sincronizadas: 1 tarjetas
2025-10-29 16:03:33 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente guardado exitosamente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 16:03:33 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ❌ Datos de entrada inválidos: El valor encriptado no es válido: Illegal base64 character 2a
2025-10-29 16:17:10 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-10-29 16:17:10 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-10-29 16:17:15 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-29 16:17:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Shutdown initiated...
2025-10-29 16:17:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Shutdown completed.
2025-10-29 23:49:55 [main] INFO  d.j.r.c.ServicioClientesApplication - Starting ServicioClientesApplication using Java 21.0.7 with PID 21426 (/home/vicente/IdeaProjects/sistema-reservas-viaje/servicio-clientes/target/classes started by vicente in /home/vicente/IdeaProjects/sistema-reservas-viaje/servicio-clientes)
2025-10-29 23:49:55 [main] DEBUG d.j.r.c.ServicioClientesApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-29 23:49:55 [main] INFO  d.j.r.c.ServicioClientesApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-29 23:49:55 [main] WARN  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Legacy property 'camunda.client.zeebe.grpc-address' found, setting to 'camunda.client.grpc-address'. Please update your setup to use the latest property
2025-10-29 23:49:55 [main] WARN  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Legacy property 'camunda.client.zeebe.rest-address' found, setting to 'camunda.client.rest-address'. Please update your setup to use the latest property
2025-10-29 23:49:55 [main] INFO  i.c.c.s.p.CamundaClientPropertiesPostProcessor - Implicit 'camunda.client.auth.method'='basic' detected due to '[camunda.client.auth.username, camunda.client.auth.password]' being set.
2025-10-29 23:49:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-29 23:49:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 1 JPA repository interface.
2025-10-29 23:49:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9080 (http)
2025-10-29 23:49:56 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-29 23:49:56 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-29 23:49:56 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-29 23:49:56 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 924 ms
2025-10-29 23:49:57 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-29 23:49:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Starting...
2025-10-29 23:49:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - ClienteHikariPool - Added connection conn0: url=jdbc:h2:mem:cliente_db user=SA
2025-10-29 23:49:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Start completed.
2025-10-29 23:49:57 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-29 23:49:57 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-29 23:49:57 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-29 23:49:58 [main] INFO  i.c.c.m.MicrometerMetricsRecorder - Enabling Micrometer based metrics for camunda-client (available via Actuator)
2025-10-29 23:49:58 [main] INFO  i.c.z.s.c.c.ZeebeClientProdAutoConfiguration - Creating zeebeClient using zeebeClientConfiguration [io.camunda.zeebe.spring.client.configuration.ZeebeClientConfigurationImpl@4e55d96]
2025-10-29 23:49:58 [main] WARN  i.c.z.client.impl.ZeebeClientImpl - ZeebeClient is deprecated and will be removed in version 8.10. Please migrate to io.camunda.client.CamundaClient.
2025-10-29 23:49:58 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:cliente_db'
2025-10-29 23:49:58 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-10-29 23:49:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9080 (http) with context path '/'
2025-10-29 23:49:58 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'activarClienteWorker': [JobWorkerValue{type='activar-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@684d5845, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 23:49:58 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'actualizarEstadoClienteWorker': [JobWorkerValue{type='actualizar-estado-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@7e35c8b5, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 23:49:58 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 2 Job worker(s) of bean 'actualizarInformacionTarjetaWorker': [JobWorkerValue{type='actualizar-informacion-tarjeta', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@50aac447, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}, JobWorkerValue{type='actualizar-informacion-tarjeta', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6ec2703e, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 23:49:58 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'actualizarRegistroClienteWorker': [JobWorkerValue{type='actualizar-registro-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@3456e3b3, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 23:49:58 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'confirmarReservaWorker': [JobWorkerValue{type='confirmar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@55f4d7be, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 23:49:58 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'crearClienteWorker': [JobWorkerValue{type='crear-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1af03386, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 23:49:58 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'finalizarReservaWorker': [JobWorkerValue{type='finalizar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@5194394, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 23:49:58 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'iniciarReservaWorker': [JobWorkerValue{type='iniciar-reserva-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4ad667c8, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 23:49:58 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'notificarReservaFallidaWorker': [JobWorkerValue{type='notificar-reserva-fallida', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@7a1af882, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 23:49:58 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'notificarTarjetaInvalidaWorker': [JobWorkerValue{type='notificar-tarjeta-invalida', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@435932e3, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 23:49:58 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'obtenerDatosClienteWorker': [JobWorkerValue{type='obtener-datos-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@3e3cac41, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 23:49:58 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarClienteWorker': [JobWorkerValue{type='validar-cliente', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@15945b2e, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 23:49:58 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarDatosEntradaWorker': [JobWorkerValue{type='validar-datos-entrada', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@26e66e13, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 23:49:58 [main] INFO  i.c.c.s.a.p.JobWorkerAnnotationProcessor - Configuring 1 Job worker(s) of bean 'validarTarjetaCreditoWorker': [JobWorkerValue{type='validar-tarjeta-credito', name='', timeout=PT-0.001S, maxJobsActive=-1, requestTimeout=PT-1S, pollInterval=PT-0.001S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@79f3d15f, tenantIds=[], forceFetchAllVariables=false, streamEnabled=true, streamTimeout=PT1H, maxRetries=-1}]
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='activar-cliente', name='activarClienteWorker#manejarActivarCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@684d5845, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-estado-cliente', name='actualizarEstadoClienteWorker#actualizarEstado', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@7e35c8b5, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 23:49:59 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 23:49:59 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 23:49:59 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 23:49:59 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 23:49:59 [main] WARN  i.c.c.spring.bean.SpringMethodInfo - Parameter names of method actualizarInformacionTarjeta could not be discovered. Please set compiler flag -parameters if you rely on parameter names (e.g. for variable names to fetch from Zeebe)
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-informacion-tarjeta', name='actualizarInformacionTarjetaWorker#actualizarInformacionTarjeta', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@50aac447, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-informacion-tarjeta', name='actualizarInformacionTarjetaWorker#actualizarInformacionTarjeta', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@6ec2703e, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='actualizar-registro-cliente', name='actualizarRegistroClienteWorker#manejarActualizarRegistroCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@3456e3b3, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='confirmar-reserva-cliente', name='confirmarReservaWorker#manejarConfirmarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@55f4d7be, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='crear-cliente', name='crearClienteWorker#manejarCrearCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@1af03386, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='finalizar-reserva-cliente', name='finalizarReservaWorker#manejarFinalizarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@5194394, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='iniciar-reserva-cliente', name='iniciarReservaWorker#manejarIniciarReserva', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@4ad667c8, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='notificar-reserva-fallida', name='notificarReservaFallidaWorker#notificarReservaFallida', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@7a1af882, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='notificar-tarjeta-invalida', name='notificarTarjetaInvalidaWorker#notificarTarjetaInvalida', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@435932e3, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='obtener-datos-cliente', name='obtenerDatosClienteWorker#manejarObtenerDatosCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@3e3cac41, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-cliente', name='validarClienteWorker#manejarValidarCliente', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@15945b2e, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-datos-entrada', name='validarDatosEntradaWorker#validarDatosEntrada', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@26e66e13, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] INFO  i.c.c.jobhandling.JobWorkerManager - . Starting job worker: JobWorkerValue{type='validar-tarjeta-credito', name='validarTarjetaCreditoWorker#manejarValidarTarjetaCredito', timeout=PT5M, maxJobsActive=32, requestTimeout=PT-1S, pollInterval=PT0.1S, autoComplete=true, fetchVariables=[], enabled=true, methodInfo=io.camunda.client.spring.bean.SpringMethodInfo@79f3d15f, tenantIds=[<default>], forceFetchAllVariables=false, streamEnabled=false, streamTimeout=PT1H, maxRetries=-1}
2025-10-29 23:49:59 [main] INFO  d.j.r.c.ServicioClientesApplication - Started ServicioClientesApplication in 3.596 seconds (process running for 3.809)
2025-10-29 23:49:59 [main] INFO  d.j.r.c.ServicioClientesApplication - 
2025-10-29 23:49:59 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 23:49:59 [main] INFO  d.j.r.c.ServicioClientesApplication - 👤 Servicio de Clientes INICIADO
2025-10-29 23:49:59 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 23:49:59 [main] INFO  d.j.r.c.ServicioClientesApplication - 📊 Puerto: 9080
2025-10-29 23:49:59 [main] INFO  d.j.r.c.ServicioClientesApplication - 📖 Swagger UI: http://localhost:9080/swagger-ui.html
2025-10-29 23:49:59 [main] INFO  d.j.r.c.ServicioClientesApplication - 🔍 H2 Console: http://localhost:9080/h2-console
2025-10-29 23:49:59 [main] INFO  d.j.r.c.ServicioClientesApplication - 💚 Health: http://localhost:9080/actuator/health
2025-10-29 23:49:59 [main] INFO  d.j.r.c.ServicioClientesApplication - ============================================
2025-10-29 23:49:59 [main] INFO  d.j.r.c.ServicioClientesApplication - 
2025-10-29 23:51:20 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Iniciando validación de datos de entrada - Job: 2251799813832439
2025-10-29 23:51:20 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - 🔍 Variables recibidas: [reservaId, numeroPasajeros, clienteId, fechaInicio, emailContacto, destino, telefonoContacto, fechaFin]
2025-10-29 23:51:20 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarDatosEntradaWorker - ✅ Datos de entrada válidos - Cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:51:51 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🚀 Iniciando worker obtener-datos-cliente - Job Key: 2251799813832500
2025-10-29 23:51:51 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Variables recibidas: {reservaId=c568e12b-b519-11f0-9018-86104c69264f, numeroPasajeros=2, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], emailContacto=cliente@example.com, destino=Roma, advertencias=[], telefonoContacto=+34600123456, fechaFin=2025-12-20, datosValidos=true}
2025-10-29 23:51:51 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ✅ ClienteId validado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:51:51 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 Obteniendo datos del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:51:51 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:51:51 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:51:51 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:51:51 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000 - Estado: ACTIVO - Email: .com
2025-10-29 23:51:51 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - ✅ Output construido con 13 variables
2025-10-29 23:51:51 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 DEBUG - Ciudad del cliente: 'drid'
2025-10-29 23:51:51 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 🔍 DEBUG - Output completo: {emailCliente=.com, estadoCliente=ACTIVO, paisCliente=paña, ciudadCliente=drid, telefonoCliente=3456, estaBloqueado=false, nombreCompleto=Juan Pérez García, dniCliente=123****8Z, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, tieneTarjetasValidas=true, clienteObtenido=true, puedeRealizarPagos=true}
2025-10-29 23:51:51 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ObtenerDatosClienteWorker - 📤 Datos del cliente preparados - Tarjetas: 1 - Puede reservar: true
2025-10-29 23:52:21 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 🚀 Iniciando worker validar-tarjeta-credito - Job Key: 2251799813832593
2025-10-29 23:52:21 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 🔍 Variables recibidas: {reservaId=c568e12b-b519-11f0-9018-86104c69264f, emailCliente=.com, paisCliente=paña, estadoCliente=ACTIVO, numeroPasajeros=2, ciudadCliente=drid, emailContacto=cliente@example.com, telefonoCliente=3456, estaBloqueado=false, dniCliente=123****8Z, nombreCompleto=Juan Pérez García, fechaFin=2025-12-20, datosValidos=true, cantidadTarjetas=1, clienteId=123e4567-e89b-12d3-a456-426655440000, fechaInicio=2025-12-10, erroresValidacion=[], tieneTarjetasValidas=true, destino=Roma, advertencias=[], clienteObtenido=true, telefonoContacto=+34600123456, puedeRealizarPagos=true}
2025-10-29 23:52:21 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ⚠️ No se proporcionó montoReserva, usando monto por defecto para validación
2025-10-29 23:52:21 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 💳 Validando tarjeta de crédito para cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:52:21 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:52:21 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:52:21 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:52:21 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Cliente tiene 1 tarjeta(s) registrada(s)
2025-10-29 23:52:21 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 🔍 Tarjeta seleccionada: 11111111-1111-1111-1111-000000000001 - Tipo: VISA - Últimos 4 dígitos: 0366
2025-10-29 23:52:21 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Fecha de expiración válida: 12/2027
2025-10-29 23:52:21 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 🔐 Simulando validación con pasarela de pago - Monto: 1000.0€
2025-10-29 23:52:21 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Pasarela de pago: Transacción APROBADA - Código: 92D67C
2025-10-29 23:52:21 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Tarjeta validada correctamente - Código autorización: 92D67C
2025-10-29 23:52:21 [pool-2-thread-1] DEBUG d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - ✅ Output construido con 7 variables
2025-10-29 23:52:21 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ValidarTarjetaCreditoWorker - 📤 Validación completada exitosamente
2025-10-29 23:52:31 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - 🔄 Iniciando actualización de estado de cliente - Job: 2251799813832682
2025-10-29 23:52:31 [pool-2-thread-1] INFO  d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - 🔍 Actualizando estado de cliente: 123e4567-e89b-12d3-a456-426655440000 → Estado nuevo: EN_PROCESO_RESERVA - Reserva: c568e12b-b519-11f0-9018-86104c69264f
2025-10-29 23:52:31 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 🔍 Obteniendo estado del cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:52:31 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:52:31 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:52:31 [pool-2-thread-1] DEBUG d.j.r.c.a.servicio.ClienteServicio - 📊 Estado del cliente 123e4567-e89b-12d3-a456-426655440000: ACTIVO
2025-10-29 23:52:31 [pool-2-thread-1] INFO  d.j.r.c.a.servicio.ClienteServicio - 🚀 Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: c568e12b-b519-11f0-9018-86104c69264f
2025-10-29 23:52:31 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔍 Buscando cliente por ID: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:52:31 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente encontrado: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:52:31 [pool-2-thread-1] DEBUG d.j.r.c.d.modelo.agregado.Cliente - 🔍 Iniciando proceso de reserva para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: c568e12b-b519-11f0-9018-86104c69264f
2025-10-29 23:52:31 [pool-2-thread-1] INFO  d.j.r.c.d.modelo.agregado.Cliente - 🚀 Proceso de reserva iniciado para cliente: 123e4567-e89b-12d3-a456-426655440000 - Reserva: c568e12b-b519-11f0-9018-86104c69264f
2025-10-29 23:52:31 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 💾 Guardando cliente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:52:31 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔄 Actualizando cliente existente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:52:31 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔄 Actualizando datos de entidad existente
2025-10-29 23:52:31 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - 🔄 Sincronizando tarjetas del cliente
2025-10-29 23:52:31 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Tarjetas sincronizadas: 1 tarjetas
2025-10-29 23:52:31 [pool-2-thread-1] DEBUG d.j.r.c.i.a.s.p.a.ClienteRepositorioAdaptador - ✅ Cliente guardado exitosamente: 123e4567-e89b-12d3-a456-426655440000
2025-10-29 23:52:31 [pool-2-thread-1] ERROR d.j.r.c.i.a.e.c.ActualizarEstadoClienteWorker - ❌ Datos de entrada inválidos: El valor encriptado no es válido: Illegal base64 character 2a
2025-10-29 23:55:31 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-10-29 23:55:31 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-10-29 23:55:33 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-29 23:55:33 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Shutdown initiated...
2025-10-29 23:55:33 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ClienteHikariPool - Shutdown completed.
